# yaml-language-server: $schema=values.schema.json

# @schema
# title: OpenChoreo Control Plane Helm Chart Values
# description: Configuration values for the OpenChoreo Control Plane Helm chart
# @schema

# @schema
# type: object
# description: Global values shared across all components
# @schema
global:
  # @schema
  # type: string
  # description: Base domain for all services. Console will be at baseDomain, API at api.baseDomain
  # default: openchoreo.local
  # @schema
  baseDomain: openchoreo.local

  # @schema
  # type: string
  # description: Port suffix for URLs (e.g., ":8080" for non-standard ports). Include the colon. Leave empty for standard ports (80/443)
  # default: ""
  # @schema
  port: ""

  # @schema
  # type: object
  # description: TLS configuration - enables HTTPS for all ingresses. When enabled, TLS hosts are auto-derived from baseDomain
  # @schema
  tls:
    # @schema
    # type: boolean
    # description: Enable TLS/HTTPS for all ingresses
    # default: false
    # @schema
    enabled: false
    # @schema
    # type: string
    # description: Secret containing TLS certificate (must have all hosts - baseDomain, api.baseDomain, thunder.baseDomain)
    # default: control-plane-tls
    # @schema
    secretName: "control-plane-tls"

  # @schema
  # type: string
  # description: Kubernetes cluster name identifier
  # default: openchoreo
  # @schema
  clusterName: openchoreo

  # @schema
  # type: array
  # description: Docker registry credentials for pulling images
  # items:
  #   type: object
  #   properties:
  #     name:
  #       type: string
  #       description: Name of the image pull secret
  # default: []
  # @schema
  imagePullSecrets: []

  # @schema
  # type: object
  # description: Labels applied to all resources created by the chart
  # additionalProperties:
  #   type: string
  # default: {}
  # @schema
  commonLabels: {}

# @schema
# type: string
# description: Override the full name of the chart release
# default: openchoreo
# @schema
fullnameOverride: openchoreo

# @schema
# type: object
# description: Common security configuration shared across all components
# @schema
security:
  # @schema
  # type: boolean
  # description: Global security toggle - when disabled, authentication is turned off for all components
  # default: true
  # @schema
  enabled: true

  # @schema
  # type: object
  # description: OpenID Connect (OIDC) configuration for authentication
  # @schema
  oidc:
    # @schema
    # type: string
    # description: OIDC provider issuer URL
    # default: ""
    # @schema
    issuer: ""
    # @schema
    # type: string
    # description: OIDC well-known configuration endpoint URL
    # default: ""
    # @schema
    wellKnownEndpoint: ""
    # @schema
    # type: string
    # description: OIDC JWKS URL for token validation
    # default: ""
    # @schema
    jwksUrl: ""
    # @schema
    # type: string
    # description: OIDC authorization endpoint URL
    # default: ""
    # @schema
    authorizationUrl: ""
    # @schema
    # type: string
    # description: OIDC token endpoint URL
    # default: ""
    # @schema
    tokenUrl: ""

    # @schema
    # type: array
    # description: External client configurations for authentication
    # @schema
    externalClients:
      - name: "cli"
        client_id: "openchoreo-cli"
        scopes:
          - "openid"
          - "profile"
          - "email"

  # @schema
  # type: object
  # description: JWT token configuration
  # @schema
  jwt:
    # @schema
    # type: string
    # description: Expected audience claim in JWT tokens
    # default: ""
    # @schema
    audience: ""

  # @schema
  # type: object
  # description: Authorization (authz) configuration using Casbin
  # @schema
  authz:
    # @schema
    # type: boolean
    # description: Enable authorization using Casbin. Policies are loaded from AuthzClusterRole, AuthzRole, AuthzClusterRoleBinding, and AuthzRoleBinding CRDs.
    # default: true
    # @schema
    enabled: true
  # @schema
  # type: string
  # description: Base URL for the authorization server (used for OAuth metadata). If not set, defaults to protocol://thunder.baseDomain:port
  # default: ""
  # @schema
  authServerBaseUrl: ""

# @schema
# type: object
# description: Controller Manager configuration - the main controller for OpenChoreo CRDs
# @schema
controllerManager:
  # @schema
  # type: string
  # description: Name of the controller-manager deployment
  # default: controller-manager
  # @schema
  name: controller-manager

  # @schema
  # type: integer
  # description: Number of controller-manager replicas
  # minimum: 1
  # default: 1
  # @schema
  replicas: 1

  # @schema
  # type: object
  # description: Container image configuration
  # @schema
  image:
    # @schema
    # type: string
    # description: Docker image repository
    # default: ghcr.io/openchoreo/controller
    # @schema
    repository: ghcr.io/openchoreo/controller
    # @schema
    # type: string
    # description: Image tag. If empty, uses Chart.AppVersion
    # default: ""
    # @schema
    tag: ""
    # @schema
    # description: Image pull policy
    # enum: [Always, IfNotPresent, Never]
    # default: Always
    # @schema
    pullPolicy: Always

  # @schema
  # type: object
  # description: Resource requests and limits for the controller-manager container
  # @schema
  resources:
    # @schema
    # type: object
    # description: Resource limits
    # @schema
    limits:
      # @schema
      # type: string
      # description: CPU limit
      # default: 1000m
      # @schema
      cpu: 1000m
      # @schema
      # type: string
      # description: Memory limit
      # default: 1Gi
      # @schema
      memory: 1Gi
    # @schema
    # type: object
    # description: Resource requests
    # @schema
    requests:
      # @schema
      # type: string
      # description: CPU request
      # default: 200m
      # @schema
      cpu: 200m
      # @schema
      # type: string
      # description: Memory request
      # default: 256Mi
      # @schema
      memory: 256Mi

  # @schema
  # type: object
  # description: Service account configuration
  # @schema
  serviceAccount:
    # @schema
    # type: boolean
    # description: Create a service account for the controller-manager
    # default: true
    # @schema
    create: true
    # @schema
    # type: object
    # description: Annotations to add to the service account
    # additionalProperties:
    #   type: string
    # default: {}
    # @schema
    annotations: {}

  # @schema
  # type: object
  # description: Priority class configuration for pod scheduling priority
  # @schema
  priorityClass:
    # @schema
    # type: boolean
    # description: Create a priority class for the controller-manager
    # default: false
    # @schema
    create: false
    # @schema
    # type: string
    # description: Priority class name
    # default: openchoreo-controller-manager
    # @schema
    name: openchoreo-controller-manager
    # @schema
    # type: integer
    # description: Priority class value (higher = more priority)
    # default: 1000000
    # @schema
    value: 1000000

  # @schema
  # type: object
  # description: Kubernetes service configuration
  # @schema
  service:
    # @schema
    # description: Service type
    # enum: [ClusterIP, NodePort, LoadBalancer]
    # default: ClusterIP
    # @schema
    type: ClusterIP
    # @schema
    # type: integer
    # description: Service port
    # default: 8080
    # @schema
    port: 8080
    # @schema
    # type: [integer, "null"]
        # description: NodePort (only used if service.type is NodePort)
        # @schema
    nodePort: null

  # @schema
  # type: object
  # description: Prometheus metrics configuration
  # @schema
  metrics:
    # @schema
    # type: boolean
    # description: Enable Prometheus metrics endpoint
    # default: true
    # @schema
    enabled: true
    # @schema
    # type: object
    # description: ServiceMonitor configuration for Prometheus Operator
    # @schema
    serviceMonitor:
      # @schema
      # type: boolean
      # description: Create a ServiceMonitor resource for Prometheus Operator
      # default: false
      # @schema
      enabled: false
      # @schema
      # type: string
      # description: Namespace where ServiceMonitor should be created
      # default: monitoring
      # @schema
      namespace: monitoring
      # @schema
      # type: string
      # description: Scrape interval
      # default: 30s
      # @schema
      interval: 30s
      # @schema
      # type: string
      # description: Scrape timeout
      # default: 10s
      # @schema
      scrapeTimeout: 10s
      # @schema
      # type: object
      # description: Labels to add to the ServiceMonitor
      # additionalProperties:
      #   type: string
      # @schema
      labels:
        prometheus: kube-prometheus
      # @schema
      # type: array
      # description: Metric relabeling rules
      # items:
      #   type: object
      # default: []
      # @schema
      relabelings: []

  # @schema
  # type: object
  # description: Pod Disruption Budget configuration
  # @schema
  podDisruptionBudget:
    # @schema
    # type: boolean
    # description: Enable PodDisruptionBudget
    # default: false
    # @schema
    enabled: false
    # @schema
    # type: integer
    # description: Minimum number of pods that must be available
    # minimum: 0
    # default: 1
    # @schema
    minAvailable: 1

  # @schema
  # type: object
  # description: Network policy configuration
  # @schema
  networkPolicy:
    # @schema
    # type: boolean
    # description: Enable NetworkPolicy
    # default: false
    # @schema
    enabled: false
    # @schema
    # type: array
    # description: Ingress rules for the NetworkPolicy
    # items:
    #   type: object
    # default: []
    # @schema
    ingress: []
    # @schema
    # type: array
    # description: Egress rules for the NetworkPolicy
    # items:
    #   type: object
    # default: []
    # @schema
    egress: []

  # @schema
  # type: object
  # description: Horizontal Pod Autoscaler configuration
  # @schema
  autoscaling:
    # @schema
    # type: boolean
    # description: Enable Horizontal Pod Autoscaler
    # default: false
    # @schema
    enabled: false
    # @schema
    # type: integer
    # description: Minimum number of replicas
    # minimum: 1
    # default: 1
    # @schema
    minReplicas: 1
    # @schema
    # type: integer
    # description: Maximum number of replicas
    # minimum: 1
    # default: 3
    # @schema
    maxReplicas: 3
    # @schema
    # type: integer
    # description: Target CPU utilization percentage for scaling
    # minimum: 1
    # maximum: 100
    # default: 70
    # @schema
    targetCPUUtilizationPercentage: 70
    # @schema
    # type: integer
    # description: Target memory utilization percentage for scaling
    # minimum: 1
    # maximum: 100
    # default: 80
    # @schema
    targetMemoryUtilizationPercentage: 80
    # @schema
    # type: object
    # description: HPA scaling behavior configuration
    # @schema
    behavior:
      # @schema
      # type: object
      # description: Scale-down behavior configuration
      # @schema
      scaleDown:
        # @schema
        # type: integer
        # description: Stabilization window in seconds before scaling down
        # default: 300
        # @schema
        stabilizationWindowSeconds: 300
        # @schema
        # type: array
        # description: Scale-down policies
        # items:
        #   type: object
        #   properties:
        #     type:
        #       enum: [Percent, Pods]
        #     value:
        #       type: integer
        #     periodSeconds:
        #       type: integer
        # @schema
        policies:
          - type: Percent
            value: 50
            periodSeconds: 60
      # @schema
      # type: object
      # description: Scale-up behavior configuration
      # @schema
      scaleUp:
        # @schema
        # type: integer
        # description: Stabilization window in seconds before scaling up
        # default: 0
        # @schema
        stabilizationWindowSeconds: 0
        # @schema
        # type: array
        # description: Scale-up policies
        # items:
        #   type: object
        #   properties:
        #     type:
        #       enum: [Percent, Pods]
        #     value:
        #       type: integer
        #     periodSeconds:
        #       type: integer
        # @schema
        policies:
          - type: Percent
            value: 100
            periodSeconds: 15
          - type: Pods
            value: 4
            periodSeconds: 60
        # @schema
        # description: Policy selection strategy
        # enum: [Max, Min, Disabled]
        # default: Max
        # @schema
        selectPolicy: Max

  # @schema
  # type: array
  # description: Topology spread constraints for pod distribution across zones and nodes
  # items:
  #   type: object
  #   properties:
  #     maxSkew:
  #       type: integer
  #       description: Maximum allowed difference in pod count
  #     topologyKey:
  #       type: string
  #       description: Node label key for topology
  #     whenUnsatisfiable:
  #       enum: [DoNotSchedule, ScheduleAnyway]
  #     labelSelector:
  #       type: object
  #       properties:
  #         matchLabels:
  #           type: object
  #           additionalProperties:
  #             type: string
  # @schema
  topologySpreadConstraints:
    - maxSkew: 1
      topologyKey: topology.kubernetes.io/zone
      whenUnsatisfiable: ScheduleAnyway
      labelSelector:
        matchLabels:
          app.kubernetes.io/name: openchoreo
          app.kubernetes.io/component: controller-manager
    - maxSkew: 1
      topologyKey: kubernetes.io/hostname
      whenUnsatisfiable: DoNotSchedule
      labelSelector:
        matchLabels:
          app.kubernetes.io/name: openchoreo
          app.kubernetes.io/component: controller-manager

  # @schema
  # type: object
  # description: Node selector for pod scheduling
  # additionalProperties:
  #   type: string
  # default: {}
  # @schema
  nodeSelector: {}

  # @schema
  # type: array
  # description: Tolerations for pod scheduling
  # items:
  #   type: object
  #   properties:
  #     key:
  #       type: string
  #     operator:
  #       enum: [Exists, Equal]
  #     value:
  #       type: string
  #     effect:
  #       enum: [NoSchedule, PreferNoSchedule, NoExecute]
  # default: []
  # @schema
  tolerations: []

  # @schema
  # type: object
  # description: Affinity rules for pod scheduling
  # default: {}
  # @schema
  affinity: {}

  # @schema
  # type: object
  # description: Pod security context
  # @schema
  podSecurityContext:
    # @schema
    # type: boolean
    # description: Run container as non-root user
    # default: true
    # @schema
    runAsNonRoot: true
    # @schema
    # type: object
    # description: Seccomp profile configuration
    # @schema
    seccompProfile:
      # @schema
      # description: Seccomp profile type
      # enum: [RuntimeDefault, Localhost, Unconfined]
      # default: RuntimeDefault
      # @schema
      type: RuntimeDefault
    # @schema
    # type: integer
    # description: User ID to run the container as
    # default: 1000
    # @schema
    runAsUser: 1000
    # @schema
    # type: integer
    # description: Group ID to run the container as
    # default: 1000
    # @schema
    runAsGroup: 1000
    # @schema
    # type: integer
    # description: Filesystem group for volumes
    # default: 1000
    # @schema
    fsGroup: 1000

  # @schema
  # type: object
  # description: Container security context
  # @schema
  containerSecurityContext:
    # @schema
    # type: boolean
    # description: Prevent privilege escalation
    # default: false
    # @schema
    allowPrivilegeEscalation: false
    # @schema
    # type: object
    # description: Linux capabilities configuration
    # @schema
    capabilities:
      # @schema
      # type: array
      # description: Capabilities to drop
      # items:
      #   type: string
      # @schema
      drop:
        - ALL
    # @schema
    # type: boolean
    # description: Mount root filesystem as read-only
    # default: false
    # @schema
    readOnlyRootFilesystem: false
    # @schema
    # type: object
    # description: Seccomp profile for container
    # @schema
    seccompProfile:
      # @schema
      # description: Seccomp profile type
      # enum: [RuntimeDefault, Localhost, Unconfined]
      # default: RuntimeDefault
      # @schema
      type: RuntimeDefault
    # @schema
    # type: object
    # description: AppArmor profile configuration
    # @schema
    appArmorProfile:
      # @schema
      # description: AppArmor profile type
      # enum: [RuntimeDefault, Localhost, Unconfined]
      # default: Unconfined
      # @schema
      type: Unconfined

  # @schema
  # type: object
  # description: Controller manager arguments and environment configuration
  # @schema
  manager:
    # @schema
    # type: array
    # description: Command-line arguments for the controller-manager
    # items:
    #   type: string
    # @schema
    args:
      - --metrics-bind-address=:8443
      - --leader-elect
      - --health-probe-bind-address=:8081
    # @schema
    # type: object
    # description: Environment variables for the controller-manager
    # @schema
    env:
      # @schema
      # description: Enable admission webhooks
      # enum: ["true", "false"]
      # default: "true"
      # @schema
      enableWebhooks: "true"

  # @schema
  # type: object
  # description: Cluster Gateway configuration for agent-based data plane communication
  # @schema
  clusterGateway:
    # @schema
    # type: boolean
    # description: Enable cluster gateway integration for remote data plane communication
    # default: true
    # @schema
    enabled: true
    # @schema
    # type: string
    # description: Cluster gateway service URL
    # default: https://cluster-gateway.openchoreo-control-plane.svc.cluster.local:8443
    # @schema
    url: https://cluster-gateway.openchoreo-control-plane.svc.cluster.local:8443
    # @schema
    # type: object
    # description: TLS configuration for cluster gateway connection
    # @schema
    tls:
      # @schema
      # type: string
      # description: Path to the CA certificate file
      # default: /etc/cluster-gateway/ca.crt
      # @schema
      caPath: /etc/cluster-gateway/ca.crt
      # @schema
      # type: string
      # description: Name of the secret containing the CA certificate
      # default: cluster-gateway-ca
      # @schema
      caSecret: cluster-gateway-ca

# @schema
# type: string
# description: Kubernetes cluster domain suffix
# default: cluster.local
# @schema
kubernetesClusterDomain: cluster.local

# @schema
# type: object
# description: Metrics service configuration
# @schema
metricsService:
  # @schema
  # type: array
  # description: Ports exposed by the metrics service
  # items:
  #   type: object
  #   properties:
  #     name:
  #       type: string
  #     port:
  #       type: integer
  #     protocol:
  #       enum: [TCP, UDP]
  #     targetPort:
  #       type: integer
  # @schema
  ports:
    - name: https
      port: 8443
      protocol: TCP
      targetPort: 8443
  # @schema
  # description: Service type
  # enum: [ClusterIP, NodePort, LoadBalancer]
  # default: ClusterIP
  # @schema
  type: ClusterIP

# @schema
# type: object
# description: Webhook service configuration
# @schema
webhookService:
  # @schema
  # type: array
  # description: Ports exposed by the webhook service
  # items:
  #   type: object
  #   properties:
  #     port:
  #       type: integer
  #     protocol:
  #       enum: [TCP, UDP]
  #     targetPort:
  #       type: integer
  # @schema
  ports:
    - port: 443
      protocol: TCP
      targetPort: 9443
  # @schema
  # description: Service type
  # enum: [ClusterIP, NodePort, LoadBalancer]
  # default: ClusterIP
  # @schema
  type: ClusterIP

# @schema
# type: object
# description: Wait job configuration for Helm hooks
# @schema
waitJob:
  # @schema
  # type: string
  # description: Container image for wait jobs
  # default: bitnamilegacy/kubectl:1.32.4
  # @schema
  image: bitnamilegacy/kubectl:1.32.4

# @schema
# type: object
# description: Kubernetes metrics server configuration
# @schema
metricsServer:
  # @schema
  # type: boolean
  # description: Enable metrics server deployment
  # default: false
  # @schema
  enabled: false
  # @schema
  # type: boolean
  # description: Allow insecure TLS connections to kubelet
  # default: true
  # @schema
  kubeletInsecureTlsEnabled: true

# @schema
# type: object
# description: OpenChoreo API server configuration
# @schema
openchoreoApi:
  # @schema
  # type: string
  # description: Static name for all openchoreo-api resources (Service, Deployment, ClusterRole, etc.)
  # default: openchoreo-api
  # @schema
  name: openchoreo-api

  # @schema
  # type: boolean
  # description: Enable the OpenChoreo API server
  # default: true
  # @schema
  enabled: true

  # @schema
  # type: integer
  # description: Number of API server replicas
  # minimum: 1
  # default: 1
  # @schema
  replicas: 1

  # @schema
  # type: object
  # description: Container image configuration
  # @schema
  image:
    # @schema
    # type: string
    # description: Docker image repository
    # default: ghcr.io/openchoreo/openchoreo-api
    # @schema
    repository: ghcr.io/openchoreo/openchoreo-api
    # @schema
    # type: string
    # description: Image tag. If empty, uses Chart.AppVersion
    # default: ""
    # @schema
    tag: ""
    # @schema
    # description: Image pull policy
    # enum: [Always, IfNotPresent, Never]
    # default: IfNotPresent
    # @schema
    pullPolicy: IfNotPresent

  # @schema
  # type: object
  # description: OpenChoreo API specific configuration. Shared settings come from global security.* values.
  # Note: JWT (enabled, issuer, audience), authorization (enabled, paths), identity (clients)
  #       are read from security.* for consistency with other components.
  # @schema
  config:
    # @schema
    # type: object
    # description: HTTP server configuration
    # @schema
    server:
      # @schema
      # type: string
      # description: Address to bind the HTTP server to
      # default: "0.0.0.0"
      # @schema
      bind_address: "0.0.0.0"
      # @schema
      # type: integer
      # description: Port to listen on for HTTP requests
      # default: 8080
      # @schema
      port: 8080
      # public_url is computed from global.baseDomain
      # @schema
      # type: object
      # description: HTTP server timeout settings
      # @schema
      timeouts:
        # @schema
        # type: string
        # description: Maximum duration for reading the entire request, including the body
        # default: "15s"
        # @schema
        read: "15s"
        # @schema
        # type: string
        # description: Maximum duration before timing out writes of the response
        # default: "15s"
        # @schema
        write: "15s"
        # @schema
        # type: string
        # description: Maximum time to wait for the next request when keep-alives are enabled
        # default: "60s"
        # @schema
        idle: "60s"
        # @schema
        # type: string
        # description: Maximum duration to wait for active connections to close during shutdown
        # default: "30s"
        # @schema
        shutdown: "30s"
      # @schema
      # type: object
      # description: TLS configuration for the HTTP server
      # @schema
      tls:
        # @schema
        # type: boolean
        # description: Enable TLS for the HTTP server
        # default: false
        # @schema
        enabled: false
        # @schema
        # type: string
        # description: Path to the TLS certificate file
        # default: ""
        # @schema
        cert_file: ""
        # @schema
        # type: string
        # description: Path to the TLS private key file
        # default: ""
        # @schema
        key_file: ""
    # @schema
    # type: object
    # description: Security configuration for authentication, subjects, and authorization
    # @schema
    security:
      # @schema
      # type: object
      # description: Authentication settings
      # @schema
      authentication:
        # @schema
        # type: object
        # description: JWT authentication configuration. Enabled/audiences come from security.enabled and security.jwt.audience. Issuer comes from thunder.configuration.jwt.issuer. JWKS URL comes from identity.oidc (computed from security.oidc.*).
        # @schema
        jwt:
          # @schema
          # type: string
          # description: Allowed clock skew when validating token expiration times
          # default: "0s"
          # @schema
          clock_skew: "0s"
          # @schema
          # type: object
          # description: JSON Web Key Set (JWKS) fetch settings
          # @schema
          jwks:
            # @schema
            # type: string
            # description: How often to refresh the JWKS from the remote URL
            # default: "1h"
            # @schema
            refresh_interval: "1h"
            # @schema
            # type: boolean
            # description: Skip TLS certificate verification when fetching JWKS
            # default: false
            # @schema
            skip_tls_verify: false
      # @schema
      # type: object
      # description: >
      #   Subject types define how to classify and extract identity information from authenticated tokens.
      #   Each key is a subject type name, and the value defines display name, priority, and mechanisms.
      # additionalProperties:
      #   type: object
      #   properties:
      #     display_name:
      #       type: string
      #       description: Human-readable name for this subject type
      #     priority:
      #       type: integer
      #       description: Priority for subject type resolution (lower = higher priority)
      #     mechanisms:
      #       type: object
      #       description: Authentication mechanisms and entitlement extraction rules
      # @schema
      subjects:
        user:
          display_name: "User"
          priority: 1
          mechanisms:
            jwt:
              entitlement:
                claim: "groups"
                display_name: "User Group"
        service_account:
          display_name: "Service Account"
          priority: 2
          mechanisms:
            jwt:
              entitlement:
                claim: "sub"
                display_name: "Client ID"
      # @schema
      # type: object
      # description: Authorization settings. Policies are loaded from AuthzClusterRole, AuthzRole, AuthzClusterRoleBinding, and AuthzRoleBinding CRDs.
      # @schema
      authorization:
        # @schema
        # type: object
        # description: Authorization decision cache settings
        # @schema
        cache:
          # @schema
          # type: boolean
          # description: Enable caching of authorization decisions
          # default: false
          # @schema
          enabled: false
          # @schema
          # type: string
          # description: How long to cache authorization decisions
          # default: "5m"
          # @schema
          ttl: "5m"
        # @schema
        # type: string
        # description: Interval for periodic full resync of authorization policies. Acts as a safety net to recover from missed events. Set to "0" to disable.
        # default: "10m"
        # @schema
        resync_interval: "10m"
        # @schema
        # type: object
        # description: Bootstrap default roles and mappings as CRDs during installation
        # @schema
        bootstrap:
          # @schema
          # type: array
          # description: Default authorization roles to create at installation
          # items:
          #   type: object
          #   properties:
          #     name:
          #       type: string
          #       description: Role name
          #     namespace:
          #       type: string
          #       description: Namespace for role (empty string for cluster-scoped)
          #     actions:
          #       type: array
          #       items:
          #         type: string
          #       description: List of actions this role can perform
          # default: []
          # @schema
          roles:
            # Super admin role with full permissions to all resources
            - name: super-admin
              actions:
                - "*"

            # Backstage catalog provider role for reading catalog data from the control plane
            - name: backstage-catalog-reader
              actions:
                - "component:view"
                - "componenttype:view"
                - "namespace:view"
                - "project:view"
                - "dataplane:view"
                - "environment:view"
                - "trait:view"
                - "buildplane:view"
                - "componentworkflow:view"
                - "workflow:view"
                - "deploymentpipeline:view"
                - "observabilityplane:view"

            # Root Cause Analysis (RCA) agent role for troubleshooting and debugging
            - name: rca-agent
              actions:
                - "component:view"
                - "project:view"
                - "namespace:view"
                - "componentrelease:view"
                - "releasebinding:view"
                - "componentworkflowrun:view"
                - "environment:view"
                - "logs:view"
                - "metrics:view"
                - "alerts:view"
                - "traces:view"

          # @schema
          # type: array
          # description: Default role-to-entitlement mappings to create at installation
          # items:
          #   type: object
          #   properties:
          #     name:
          #       type: string
          #       description: Binding name
          #     roleRef:
          #       type: object
          #       description: Reference to the role
          #       properties:
          #         name:
          #           type: string
          #           description: Role name
          #         namespace:
          #           type: string
          #           description: Role namespace (empty for cluster role)
          #     entitlement:
          #       type: object
          #       description: JWT claim that grants this role
          #       properties:
          #         claim:
          #           type: string
          #           description: JWT claim name (e.g., "groups", "sub", "email")
          #         value:
          #           type: string
          #           description: JWT claim value to match
          #     effect:
          #       description: Policy effect ("allow" or "deny")
          #       enum: ["allow", "deny"]
          #     hierarchy:
          #       type: object
          #       description: Resource scope for this binding (empty for cluster-wide)
          #       properties:
          #         namespace:
          #           type: string
          #           description: Namespace (organization) scope
          #         project:
          #           type: string
          #           description: Project scope (requires namespace)
          #         component:
          #           type: string
          #           description: Component scope (requires namespace and project)
          # default: []
          # @schema
          mappings:
            # Super admin mapping - grants platformEngineer group full access
            - name: super-admin-binding
              roleRef:
                name: super-admin
              entitlement:
                claim: groups
                value: platformEngineer
              effect: allow

            # Backstage catalog reader mapping - grants backstage service account read access
            - name: backstage-catalog-reader-binding
              roleRef:
                name: backstage-catalog-reader
              entitlement:
                claim: sub
                value: openchoreo-backstage-client
              effect: allow

            # RCA agent mapping - grants RCA service account troubleshooting access
            - name: rca-agent-binding
              roleRef:
                name: rca-agent
              entitlement:
                claim: sub
                value: openchoreo-rca-agent
              effect: allow
    # identity.oidc and identity.clients come from security.oidc.* and security.oidc.externalClients
    # @schema
    # type: object
    # description: Model Context Protocol (MCP) server configuration
    # @schema
    mcp:
      # @schema
      # type: boolean
      # description: Enable the MCP server for AI-friendly tool interfaces
      # default: true
      # @schema
      enabled: true
      # @schema
      # type: array
      # description: List of enabled MCP toolsets. Each toolset exposes a group of related operations.
      # items:
      #   type: string
      # default: ["namespace", "project", "component", "build", "deployment", "infrastructure", "schema", "resource"]
      # @schema
      toolsets:
        - "namespace"
        - "project"
        - "component"
        - "build"
        - "deployment"
        - "infrastructure"
        - "schema"
        - "resource"
    # @schema
    # type: object
    # description: Logging configuration
    # @schema
    logging:
      # @schema
      # description: "Minimum log level: debug, info, warn, error"
      # default: "info"
      # enum: [debug, info, warn, error]
      # @schema
      level: "info"
      # @schema
      # description: "Log output format: json, text"
      # default: "json"
      # enum: [json, text]
      # @schema
      format: "json"
      # @schema
      # type: boolean
      # description: Include source file and line number in log entries
      # default: false
      # @schema
      add_source: false

  # @schema
  # type: object
  # description: Database configuration
  # @schema
  database:
    # @schema
    # type: string
    # description: Path to the SQLite database file
    # default: /var/lib/openchoreo/data/controlplane.db
    # @schema
    path: "/var/lib/openchoreo/data/controlplane.db"
    # @schema
    # type: object
    # description: Persistent volume configuration for the database
    # @schema
    persistence:
      # @schema
      # type: boolean
      # description: Enable persistent storage for the database
      # default: true
      # @schema
      enabled: true
      # @schema
      # type: string
      # description: Size of the persistent volume
      # default: 500Mi
      # @schema
      size: 500Mi
      # @schema
      # type: string
      # description: Storage class name. If empty, uses the default storage class
      # default: ""
      # @schema
      storageClassName: ""

  # @schema
  # type: object
  # description: Resource requests and limits
  # @schema
  resources:
    # @schema
    # type: object
    # description: Resource requests
    # @schema
    requests:
      # @schema
      # type: string
      # description: CPU request
      # default: 200m
      # @schema
      cpu: "200m"
      # @schema
      # type: string
      # description: Memory request
      # default: 256Mi
      # @schema
      memory: "256Mi"
    # @schema
    # type: object
    # description: Resource limits
    # @schema
    limits:
      # @schema
      # type: string
      # description: CPU limit
      # default: 1000m
      # @schema
      cpu: "1000m"
      # @schema
      # type: string
      # description: Memory limit
      # default: 1Gi
      # @schema
      memory: "1Gi"

  # @schema
  # type: object
  # description: Service account configuration
  # @schema
  serviceAccount:
    # @schema
    # type: string
    # description: Service account name (always created when openchoreoApi.enabled is true)
    # default: openchoreo-api
    # @schema
    name: openchoreo-api
    # @schema
    # type: object
    # description: Annotations to add to the service account
    # additionalProperties:
    #   type: string
    # default: {}
    # @schema
    annotations: {}

  # @schema
  # type: object
  # description: Priority class configuration
  # @schema
  priorityClass:
    # @schema
    # type: boolean
    # description: Create a priority class
    # default: false
    # @schema
    create: false
    # @schema
    # type: string
    # description: Priority class name
    # default: openchoreo-api
    # @schema
    name: openchoreo-api
    # @schema
    # type: integer
    # description: Priority class value
    # default: 900000
    # @schema
    value: 900000

  # @schema
  # type: object
  # description: Kubernetes service configuration
  # @schema
  service:
    # @schema
    # description: Service type
    # enum: [ClusterIP, NodePort, LoadBalancer]
    # default: ClusterIP
    # @schema
    type: ClusterIP
    # @schema
    # type: integer
    # description: Service port
    # default: 8080
    # @schema
    port: 8080
    # @schema
    # type: [integer, "null"]
        # description: NodePort (only used if service.type is NodePort)
        # @schema
    nodePort: null

  # @schema
  # type: object
  # description: Horizontal Pod Autoscaler configuration
  # @schema
  autoscaling:
    # @schema
    # type: boolean
    # description: Enable Horizontal Pod Autoscaler
    # default: false
    # @schema
    enabled: false
    # @schema
    # type: integer
    # description: Minimum number of replicas
    # minimum: 1
    # default: 1
    # @schema
    minReplicas: 1
    # @schema
    # type: integer
    # description: Maximum number of replicas
    # minimum: 1
    # default: 3
    # @schema
    maxReplicas: 3
    # @schema
    # type: integer
    # description: Target CPU utilization percentage
    # minimum: 1
    # maximum: 100
    # default: 70
    # @schema
    targetCPUUtilizationPercentage: 70
    # @schema
    # type: integer
    # description: Target memory utilization percentage
    # minimum: 1
    # maximum: 100
    # default: 80
    # @schema
    targetMemoryUtilizationPercentage: 80
    # @schema
    # type: object
    # description: HPA scaling behavior
    # @schema
    behavior:
      # @schema
      # type: object
      # description: Scale-down behavior
      # @schema
      scaleDown:
        # @schema
        # type: integer
        # description: Stabilization window in seconds
        # default: 300
        # @schema
        stabilizationWindowSeconds: 300
        # @schema
        # type: array
        # description: Scale-down policies
        # items:
        #   type: object
        # @schema
        policies:
          - type: Percent
            value: 50
            periodSeconds: 60
      # @schema
      # type: object
      # description: Scale-up behavior
      # @schema
      scaleUp:
        # @schema
        # type: integer
        # description: Stabilization window in seconds
        # default: 0
        # @schema
        stabilizationWindowSeconds: 0
        # @schema
        # type: array
        # description: Scale-up policies
        # items:
        #   type: object
        # @schema
        policies:
          - type: Percent
            value: 100
            periodSeconds: 15
          - type: Pods
            value: 4
            periodSeconds: 60
        # @schema
        # description: Policy selection strategy
        # enum: [Max, Min, Disabled]
        # default: Max
        # @schema
        selectPolicy: Max

  # @schema
  # type: object
  # description: Pod Disruption Budget configuration
  # @schema
  podDisruptionBudget:
    # @schema
    # type: boolean
    # description: Enable PodDisruptionBudget
    # default: false
    # @schema
    enabled: false
    # @schema
    # type: integer
    # description: Minimum available pods
    # minimum: 0
    # default: 1
    # @schema
    minAvailable: 1

  # @schema
  # type: object
  # description: Network policy configuration
  # @schema
  networkPolicy:
    # @schema
    # type: boolean
    # description: Enable NetworkPolicy
    # default: false
    # @schema
    enabled: false
    # @schema
    # type: array
    # description: Ingress rules
    # items:
    #   type: object
    # default: []
    # @schema
    ingress: []
    # @schema
    # type: array
    # description: Egress rules
    # items:
    #   type: object
    # default: []
    # @schema
    egress: []

  # @schema
  # type: object
  # description: Prometheus metrics configuration
  # @schema
  metrics:
    # @schema
    # type: boolean
    # description: Enable Prometheus metrics
    # default: true
    # @schema
    enabled: true
    # @schema
    # type: object
    # description: ServiceMonitor configuration
    # @schema
    serviceMonitor:
      # @schema
      # type: boolean
      # description: Create ServiceMonitor resource
      # default: false
      # @schema
      enabled: false
      # @schema
      # type: string
      # description: Namespace for ServiceMonitor
      # default: monitoring
      # @schema
      namespace: monitoring
      # @schema
      # type: string
      # description: Scrape interval
      # default: 30s
      # @schema
      interval: 30s
      # @schema
      # type: string
      # description: Scrape timeout
      # default: 10s
      # @schema
      scrapeTimeout: 10s
      # @schema
      # type: object
      # description: Labels for ServiceMonitor
      # additionalProperties:
      #   type: string
      # @schema
      labels:
        prometheus: kube-prometheus
      # @schema
      # type: array
      # description: Metric relabeling rules
      # items:
      #   type: object
      # default: []
      # @schema
      relabelings: []

  # @schema
  # type: object
  # description: Ingress configuration
  # @schema
  ingress:
    # @schema
    # type: boolean
    # description: Enable ingress
    # default: true
    # @schema
    enabled: true
    # @schema
    # type: string
    # description: Ingress class name. If empty, uses global.ingressClassName
    # default: ""
    # @schema
    ingressClassName: ""
    # @schema
    # type: object
    # description: Ingress annotations
    # additionalProperties:
    #   type: string
    # default: {}
    # @schema
    annotations: {}
    # @schema
    # type: array
    # description: Ingress hosts. If empty, derives from global.baseDomain
    # items:
    #   type: object
    #   properties:
    #     host:
    #       type: string
    #     paths:
    #       type: array
    #       items:
    #         type: object
    # default: []
    # @schema
    hosts: []
    # @schema
    # type: array
    # description: Ingress TLS configuration
    # items:
    #   type: object
    #   properties:
    #     secretName:
    #       type: string
    #     hosts:
    #       type: array
    #       items:
    #         type: string
    # default: []
    # @schema
    tls: []

  # @schema
  # type: array
  # description: Topology spread constraints
  # items:
  #   type: object
  # @schema
  topologySpreadConstraints:
    - maxSkew: 1
      topologyKey: topology.kubernetes.io/zone
      whenUnsatisfiable: ScheduleAnyway
      labelSelector:
        matchLabels:
          app.kubernetes.io/name: openchoreo
          app.kubernetes.io/component: api-server
    - maxSkew: 1
      topologyKey: kubernetes.io/hostname
      whenUnsatisfiable: DoNotSchedule
      labelSelector:
        matchLabels:
          app.kubernetes.io/name: openchoreo
          app.kubernetes.io/component: api-server

  # @schema
  # type: object
  # description: Node selector
  # additionalProperties:
  #   type: string
  # default: {}
  # @schema
  nodeSelector: {}

  # @schema
  # type: array
  # description: Tolerations
  # items:
  #   type: object
  # default: []
  # @schema
  tolerations: []

  # @schema
  # type: object
  # description: Affinity rules
  # default: {}
  # @schema
  affinity: {}

  # @schema
  # type: object
  # description: Pod security context
  # @schema
  podSecurityContext:
    # @schema
    # type: boolean
    # description: Run as non-root user
    # default: true
    # @schema
    runAsNonRoot: true
    # @schema
    # type: object
    # description: Seccomp profile
    # @schema
    seccompProfile:
      # @schema
      # description: Seccomp profile type
      # enum: [RuntimeDefault, Localhost, Unconfined]
      # default: RuntimeDefault
      # @schema
      type: RuntimeDefault
    # @schema
    # type: integer
    # description: User ID
    # default: 1000
    # @schema
    runAsUser: 1000
    # @schema
    # type: integer
    # description: Group ID
    # default: 1000
    # @schema
    runAsGroup: 1000
    # @schema
    # type: integer
    # description: Filesystem group
    # default: 1000
    # @schema
    fsGroup: 1000

  # @schema
  # type: object
  # description: Container security context
  # @schema
  containerSecurityContext:
    # @schema
    # type: boolean
    # description: Prevent privilege escalation
    # default: false
    # @schema
    allowPrivilegeEscalation: false
    # @schema
    # type: object
    # description: Linux capabilities
    # @schema
    capabilities:
      # @schema
      # type: array
      # description: Capabilities to drop
      # items:
      #   type: string
      # @schema
      drop:
        - ALL
    # @schema
    # type: boolean
    # description: Read-only root filesystem
    # default: false
    # @schema
    readOnlyRootFilesystem: false
    # @schema
    # type: object
    # description: Seccomp profile
    # @schema
    seccompProfile:
      # @schema
      # description: Seccomp profile type
      # enum: [RuntimeDefault, Localhost, Unconfined]
      # default: RuntimeDefault
      # @schema
      type: RuntimeDefault
    # @schema
    # type: object
    # description: AppArmor profile
    # @schema
    appArmorProfile:
      # @schema
      # description: AppArmor profile type
      # enum: [RuntimeDefault, Localhost, Unconfined]
      # default: Unconfined
      # @schema
      type: Unconfined

  # @schema
  # type: object
  # description: Security configuration for authorization user types
  # @schema
  security:
    # @schema
    # type: array
    # description: User type definitions for authorization
    # items:
    #   type: object
    #   properties:
    #     type:
    #       type: string
    #       description: User type identifier
    #     display_name:
    #       type: string
    #       description: Human-readable name
    #     priority:
    #       type: integer
    #       description: Priority order
    #     auth_mechanisms:
    #       type: array
    #       items:
    #         type: object
    #         properties:
    #           type:
    #             type: string
    #           entitlement:
    #             type: object
    #             properties:
    #               claim:
    #                 type: string
    #               display_name:
    #                 type: string
    # @schema
    userTypes:
      - type: "user"
        display_name: "User"
        priority: 1
        auth_mechanisms:
          - type: "oauth2"
            entitlement:
              claim: "groups"
              display_name: "User Group"
      - type: "service_account"
        display_name: "Service Account"
        priority: 2
        auth_mechanisms:
          - type: "oauth2"
            entitlement:
              claim: "sub"
              display_name: "Client ID"

# @schema
# type: object
# description: Backstage UI configuration
# @schema
backstage:
  # @schema
  # type: boolean
  # description: Enable Backstage UI deployment
  # default: true
  # @schema
  enabled: true

  # @schema
  # type: string
  # description: Name of an existing Secret containing backstage secrets (backend-secret, client-secret, postgres-password). When set, the chart does not create its own Secret.
  # default: ""
  # @schema
  existingSecret: ""

  # @schema
  # type: integer
  # description: Number of Backstage replicas
  # minimum: 1
  # default: 1
  # @schema
  replicas: 1

  # @schema
  # type: object
  # description: Container image configuration
  # @schema
  image:
    # @schema
    # type: string
    # description: Docker image repository
    # default: ghcr.io/openchoreo/openchoreo-ui
    # @schema
    repository: ghcr.io/openchoreo/openchoreo-ui
    # @schema
    # type: string
    # description: Image tag. If empty, uses Chart.AppVersion
    # default: ""
    # @schema
    tag: ""
    # @schema
    # description: Image pull policy
    # enum: [Always, IfNotPresent, Never]
    # default: IfNotPresent
    # @schema
    pullPolicy: IfNotPresent

  # @schema
  # type: object
  # description: Kubernetes service configuration
  # @schema
  service:
    # @schema
    # description: Service type
    # enum: [ClusterIP, NodePort, LoadBalancer]
    # default: ClusterIP
    # @schema
    type: ClusterIP
    # @schema
    # type: integer
    # description: Service port
    # default: 7007
    # @schema
    port: 7007
    # @schema
    # type: [integer, "null"]
        # description: NodePort (only used if service.type is NodePort)
        # @schema
    nodePort: null

  # @schema
  # type: object
  # description: Resource requests and limits
  # @schema
  resources:
    # @schema
    # type: object
    # description: Resource limits
    # @schema
    limits:
      # @schema
      # type: string
      # description: CPU limit
      # default: 2000m
      # @schema
      cpu: 2000m
      # @schema
      # type: string
      # description: Memory limit
      # default: 2Gi
      # @schema
      memory: 2Gi
    # @schema
    # type: object
    # description: Resource requests
    # @schema
    requests:
      # @schema
      # type: string
      # description: CPU request
      # default: 200m
      # @schema
      cpu: 200m
      # @schema
      # type: string
      # description: Memory request
      # default: 256Mi
      # @schema
      memory: 256Mi

  # @schema
  # type: object
  # description: Service account configuration
  # @schema
  serviceAccount:
    # @schema
    # type: string
    # description: Service account name
    # default: openchoreo-backstage
    # @schema
    name: openchoreo-backstage
    # @schema
    # type: object
    # description: Service account annotations
    # additionalProperties:
    #   type: string
    # default: {}
    # @schema
    annotations: {}

  # @schema
  # type: object
  # description: Priority class configuration
  # @schema
  priorityClass:
    # @schema
    # type: boolean
    # description: Create a priority class
    # default: false
    # @schema
    create: false
    # @schema
    # type: string
    # description: Priority class name
    # default: openchoreo-backstage
    # @schema
    name: openchoreo-backstage
    # @schema
    # type: integer
    # description: Priority class value
    # default: 800000
    # @schema
    value: 800000

  # @schema
  # type: string
  # description: Backend secret for Backstage encryption. If empty, a random secret is generated
  # default: ""
  # @schema
  backendSecret: ""

  # @schema
  # type: object
  # description: OpenChoreo API connection configuration
  # @schema
  openchoreoApi:
    # @schema
    # type: string
    # description: OpenChoreo API URL. If empty, auto-derived from internal service
    # default: ""
    # @schema
    url: ""

  # @schema
  # type: object
  # description: Feature flags for enabling/disabling OpenChoreo features in Backstage
  # @schema
  features:
    # @schema
    # type: object
    # description: Build plane / Workflows functionality configuration
    # @schema
    workflows:
      # @schema
      # type: boolean
      # description: Enable Workflows tab and WorkflowsOverviewCard in entity pages
      # default: true
      # @schema
      enabled: true
    # @schema
    # type: object
    # description: Observability plane features (Metrics, Traces, Runtime Logs)
    # @schema
    observability:
      # @schema
      # type: boolean
      # description: Enable Metrics, Traces, Runtime Logs tabs and RuntimeHealthCard in entity pages
      # default: true
      # @schema
      enabled: true

  # @schema
  # type: object
  # description: External CI platform integrations (Jenkins). GitHub Actions and GitLab support coming soon.
  # @schema
  externalCI:
    # @schema
    # type: object
    # description: Jenkins CI integration configuration
    # @schema
    jenkins:
      # @schema
      # type: boolean
      # description: Enable Jenkins integration by injecting environment variables
      # default: false
      # @schema
      enabled: false
      # @schema
      # type: string
      # description: Jenkins server base URL (e.g., https://jenkins.example.com)
      # default: ""
      # @schema
      baseUrl: "https://jenkins.example.com"
      # @schema
      # type: string
      # description: Jenkins username for API authentication
      # default: ""
      # @schema
      username: "jenkins-user"
      # @schema
      # type: string
      # description: Jenkins API key/token for authentication
      # default: ""
      # @schema
      apiKey: "jenkins-api-key"

  # @schema
  # type: array
  # description: Environment variables for the Backstage container
  # items:
  #   type: object
  #   properties:
  #     name:
  #       type: string
  #       description: Environment variable name
  #     value:
  #       type: string
  #       description: Environment variable value
  # @schema
  env:
    - name: NODE_ENV
      value: production
    - name: LOG_LEVEL
      value: info
    - name: PORT
      value: "7007"

  # @schema
  # type: array
  # description: Additional environment variables to merge with the default env array. Use this instead of overriding backstage.env to avoid sparse array issues with --set.
  # items:
  #   type: object
  #   properties:
  #     name:
  #       type: string
  #       description: Environment variable name
  #     value:
  #       type: string
  #       description: Environment variable value
  # @schema
  extraEnv: []

  # @schema
  # type: string
  # description: Backstage public base URL. If empty, auto-derived from global.baseDomain
  # default: ""
  # @schema
  baseUrl: ""

  # @schema
  # type: object
  # description: Thunder identity provider connection configuration
  # @schema
  thunder:
    # @schema
    # type: string
    # description: Thunder public base URL. If empty, auto-derived from global.baseDomain
    # default: ""
    # @schema
    baseUrl: ""
    # @schema
    # type: string
    # description: Thunder API token for authentication
    # default: ""
    # @schema
    token: ""

  # @schema
  # type: object
  # description: OAuth/OIDC authentication configuration
  # @schema
  auth:
    # @schema
    # type: string
    # description: OAuth client ID
    # default: openchoreo-backstage-client
    # @schema
    clientId: "openchoreo-backstage-client"
    # @schema
    # type: string
    # description: OAuth client secret
    # default: backstage-portal-secret
    # @schema
    clientSecret: "backstage-portal-secret"
    # @schema
    # type: array
    # description: OAuth redirect URLs
    # items:
    #   type: string
    # default: []
    # @schema
    redirectUrls: []

  # @schema
  # type: object
  # description: Horizontal Pod Autoscaler configuration
  # @schema
  autoscaling:
    # @schema
    # type: boolean
    # description: Enable HPA
    # default: false
    # @schema
    enabled: false
    # @schema
    # type: integer
    # description: Minimum replicas
    # minimum: 1
    # default: 1
    # @schema
    minReplicas: 1
    # @schema
    # type: integer
    # description: Maximum replicas
    # minimum: 1
    # default: 3
    # @schema
    maxReplicas: 3
    # @schema
    # type: integer
    # description: Target CPU utilization percentage
    # minimum: 1
    # maximum: 100
    # default: 70
    # @schema
    targetCPUUtilizationPercentage: 70
    # @schema
    # type: integer
    # description: Target memory utilization percentage
    # minimum: 1
    # maximum: 100
    # default: 80
    # @schema
    targetMemoryUtilizationPercentage: 80
    # @schema
    # type: object
    # description: HPA scaling behavior
    # @schema
    behavior:
      # @schema
      # type: object
      # description: Scale-down behavior
      # @schema
      scaleDown:
        # @schema
        # type: integer
        # description: Stabilization window in seconds
        # default: 300
        # @schema
        stabilizationWindowSeconds: 300
        # @schema
        # type: array
        # description: Scale-down policies
        # items:
        #   type: object
        # @schema
        policies:
          - type: Percent
            value: 50
            periodSeconds: 60
      # @schema
      # type: object
      # description: Scale-up behavior
      # @schema
      scaleUp:
        # @schema
        # type: integer
        # description: Stabilization window in seconds
        # default: 0
        # @schema
        stabilizationWindowSeconds: 0
        # @schema
        # type: array
        # description: Scale-up policies
        # items:
        #   type: object
        # @schema
        policies:
          - type: Percent
            value: 100
            periodSeconds: 15
          - type: Pods
            value: 4
            periodSeconds: 60
        # @schema
        # description: Policy selection strategy
        # enum: [Max, Min, Disabled]
        # default: Max
        # @schema
        selectPolicy: Max

  # @schema
  # type: object
  # description: Pod Disruption Budget configuration
  # @schema
  podDisruptionBudget:
    # @schema
    # type: boolean
    # description: Enable PDB
    # default: false
    # @schema
    enabled: false
    # @schema
    # type: integer
    # description: Minimum available pods
    # minimum: 0
    # default: 1
    # @schema
    minAvailable: 1

  # @schema
  # type: object
  # description: Network policy configuration
  # @schema
  networkPolicy:
    # @schema
    # type: boolean
    # description: Enable NetworkPolicy
    # default: false
    # @schema
    enabled: false
    # @schema
    # type: array
    # description: Ingress rules
    # items:
    #   type: object
    # default: []
    # @schema
    ingress: []
    # @schema
    # type: array
    # description: Egress rules
    # items:
    #   type: object
    # default: []
    # @schema
    egress: []

  # @schema
  # type: object
  # description: Prometheus metrics configuration
  # @schema
  metrics:
    # @schema
    # type: boolean
    # description: Enable Prometheus metrics
    # default: true
    # @schema
    enabled: true
    # @schema
    # type: object
    # description: ServiceMonitor configuration
    # @schema
    serviceMonitor:
      # @schema
      # type: boolean
      # description: Create ServiceMonitor resource
      # default: false
      # @schema
      enabled: false
      # @schema
      # type: string
      # description: Namespace for ServiceMonitor
      # default: monitoring
      # @schema
      namespace: monitoring
      # @schema
      # type: string
      # description: Scrape interval
      # default: 30s
      # @schema
      interval: 30s
      # @schema
      # type: string
      # description: Scrape timeout
      # default: 10s
      # @schema
      scrapeTimeout: 10s
      # @schema
      # type: object
      # description: Labels for ServiceMonitor
      # additionalProperties:
      #   type: string
      # @schema
      labels:
        prometheus: kube-prometheus
      # @schema
      # type: array
      # description: Metric relabeling rules
      # items:
      #   type: object
      # default: []
      # @schema
      relabelings: []

  # @schema
  # type: object
  # description: Ingress configuration
  # @schema
  ingress:
    # @schema
    # type: boolean
    # description: Enable ingress
    # default: true
    # @schema
    enabled: true
    # @schema
    # type: string
    # description: Ingress class name
    # default: ""
    # @schema
    ingressClassName: ""
    # @schema
    # type: object
    # description: Ingress annotations
    # additionalProperties:
    #   type: string
    # default: {}
    # @schema
    annotations: {}
    # @schema
    # type: array
    # description: Ingress hosts
    # items:
    #   type: object
    # default: []
    # @schema
    hosts: []
    # @schema
    # type: array
    # description: Ingress TLS configuration
    # items:
    #   type: object
    # default: []
    # @schema
    tls: []

  # @schema
  # type: array
  # description: Topology spread constraints
  # items:
  #   type: object
  # @schema
  topologySpreadConstraints:
    - maxSkew: 1
      topologyKey: topology.kubernetes.io/zone
      whenUnsatisfiable: ScheduleAnyway
      labelSelector:
        matchLabels:
          app.kubernetes.io/name: openchoreo
          app.kubernetes.io/component: backstage
    - maxSkew: 1
      topologyKey: kubernetes.io/hostname
      whenUnsatisfiable: DoNotSchedule
      labelSelector:
        matchLabels:
          app.kubernetes.io/name: openchoreo
          app.kubernetes.io/component: backstage

  # @schema
  # type: object
  # description: Node selector
  # additionalProperties:
  #   type: string
  # default: {}
  # @schema
  nodeSelector: {}

  # @schema
  # type: array
  # description: Tolerations
  # items:
  #   type: object
  # default: []
  # @schema
  tolerations: []

  # @schema
  # type: object
  # description: Affinity rules
  # default: {}
  # @schema
  affinity: {}

  # @schema
  # type: object
  # description: Pod security context
  # @schema
  podSecurityContext:
    # @schema
    # type: boolean
    # description: Run as non-root user
    # default: true
    # @schema
    runAsNonRoot: true
    # @schema
    # type: object
    # description: Seccomp profile
    # @schema
    seccompProfile:
      # @schema
      # description: Seccomp profile type
      # enum: [RuntimeDefault, Localhost, Unconfined]
      # default: RuntimeDefault
      # @schema
      type: RuntimeDefault
    # @schema
    # type: integer
    # description: User ID
    # default: 1000
    # @schema
    runAsUser: 1000
    # @schema
    # type: integer
    # description: Group ID
    # default: 1000
    # @schema
    runAsGroup: 1000
    # @schema
    # type: integer
    # description: Filesystem group
    # default: 1000
    # @schema
    fsGroup: 1000

  # @schema
  # type: object
  # description: Container security context
  # @schema
  containerSecurityContext:
    # @schema
    # type: boolean
    # description: Prevent privilege escalation
    # default: false
    # @schema
    allowPrivilegeEscalation: false
    # @schema
    # type: object
    # description: Linux capabilities
    # @schema
    capabilities:
      # @schema
      # type: array
      # description: Capabilities to drop
      # items:
      #   type: string
      # @schema
      drop:
        - ALL
    # @schema
    # type: boolean
    # description: Read-only root filesystem
    # default: false
    # @schema
    readOnlyRootFilesystem: false
    # @schema
    # type: object
    # description: Seccomp profile
    # @schema
    seccompProfile:
      # @schema
      # description: Seccomp profile type
      # enum: [RuntimeDefault, Localhost, Unconfined]
      # default: RuntimeDefault
      # @schema
      type: RuntimeDefault
    # @schema
    # type: object
    # description: AppArmor profile
    # @schema
    appArmorProfile:
      # @schema
      # description: AppArmor profile type
      # enum: [RuntimeDefault, Localhost, Unconfined]
      # default: Unconfined
      # @schema
      type: Unconfined

  # @schema
  # type: object
  # description: Database configuration for Backstage
  # @schema
  database:
    # @schema
    # description: Database type
    # enum: [sqlite, postgresql]
    # default: sqlite
    # @schema
    type: sqlite
    # @schema
    # type: object
    # description: SQLite settings (only used when type is sqlite)
    # @schema
    sqlite:
      # @schema
      # type: string
      # description: Mount path for database directory inside container
      # default: /app/.config/backstage
      # @schema
      mountPath: /app/.config/backstage
      # @schema
      # type: object
      # description: Persistence settings for SQLite database
      # @schema
      persistence:
        # @schema
        # type: boolean
        # description: Enable PVC for persistence (false = emptyDir)
        # default: false
        # @schema
        enabled: false
        # @schema
        # type: string
        # description: PVC storage size
        # default: 1Gi
        # @schema
        size: 1Gi
        # @schema
        # type: string
        # description: Storage class name (empty = default storage class)
        # default: ""
        # @schema
        storageClassName: ""
        # @schema
        # description: PVC access mode
        # enum: [ReadWriteOnce, ReadWriteMany]
        # default: ReadWriteOnce
        # @schema
        accessMode: ReadWriteOnce
    # @schema
    # type: object
    # description: PostgreSQL settings (only used when type is postgresql)
    # @schema
    postgresql:
      # @schema
      # type: string
      # description: PostgreSQL host
      # default: ""
      # @schema
      host: ""
      # @schema
      # type: integer
      # description: PostgreSQL port
      # default: 5432
      # @schema
      port: 5432
      # @schema
      # type: string
      # description: PostgreSQL username
      # default: backstage
      # @schema
      user: backstage
      # @schema
      # type: string
      # description: PostgreSQL password
      # default: ""
      # @schema
      password: ""
      # @schema
      # type: boolean
      # description: Enable SSL for the PostgreSQL connection (sets PGSSLMODE=require)
      # default: false
      # @schema
      ssl: false
      # @schema
      # type: string
      # description: PostgreSQL database name
      # default: backstage
      # @schema
      database: backstage

# @schema
# type: object
# additionalProperties: true
# description: Asgardeo Thunder (Platform Identity Provider) configuration
# @schema
thunder:
  # type: boolean
  # description: Enable Thunder identity provider deployment
  # default: true
  # @schema
  # type: boolean
  # description: Enable Thunder identity provider deployment
  # default: true
  # @schema
  enabled: true

  # type: string
  # description: Override the Thunder release name
  # default: thunder
  # @schema
  # type: string
  # description: Override the Thunder release name
  # default: thunder
  # @schema
  fullnameOverride: thunder

  # type: object
  # additionalProperties: true
  # description: Deployment configuration
  # @schema
  # type: object
  # additionalProperties: true
  # description: Deployment configuration
  # @schema
  deployment:
    # type: integer
    # description: Number of Thunder replicas
    # minimum: 1
    # default: 1
    # @schema
    # type: integer
    # description: Number of Thunder replicas
    # minimum: 1
    # default: 1
    # @schema
    replicaCount: 1

    # type: object
    # additionalProperties: true
    # description: Rolling update strategy
    # @schema
    # type: object
    # additionalProperties: true
    # description: Rolling update strategy
    # @schema
    strategy:
      # type: object
      # additionalProperties: true
      # description: Rolling update parameters
      # @schema
      # type: object
      # additionalProperties: true
      # description: Rolling update parameters
      # @schema
      rollingUpdate:
        # type: integer
        # description: Maximum surge pods during update
        # default: 1
        # @schema
        # type: integer
        # description: Maximum surge pods during update
        # default: 1
        # @schema
        maxSurge: 1
        # type: integer
        # description: Maximum unavailable pods during update
        # default: 0
        # @schema
        # type: integer
        # description: Maximum unavailable pods during update
        # default: 0
        # @schema
        maxUnavailable: 0

    # type: object
    # additionalProperties: true
    # description: Security context for the pod
    # @schema
    # type: object
    # additionalProperties: true
    # description: Security context for the pod
    # @schema
    securityContext:
      # type: boolean
      # description: Read-only root filesystem. Must be false for SQLite
      # default: false
      # @schema
      # type: boolean
      # description: Read-only root filesystem. Must be false for SQLite
      # default: false
      # @schema
      readOnlyRootFilesystem: false
      # type: boolean
      # description: Enable run as user
      # default: true
      # @schema
      # type: boolean
      # description: Enable run as user
      # default: true
      # @schema
      enableRunAsUser: true
      # type: integer
      # description: User ID
      # default: 10001
      # @schema
      # type: integer
      # description: User ID
      # default: 10001
      # @schema
      runAsUser: 10001
      # type: boolean
      # description: Enable run as group
      # default: true
      # @schema
      # type: boolean
      # description: Enable run as group
      # default: true
      # @schema
      enableRunAsGroup: true
      # type: integer
      # description: Group ID
      # default: 10001
      # @schema
      # type: integer
      # description: Group ID
      # default: 10001
      # @schema
      runAsGroup: 10001
      # type: boolean
      # description: Enable filesystem group
      # default: true
      # @schema
      # type: boolean
      # description: Enable filesystem group
      # default: true
      # @schema
      enableFsGroup: true
      # type: integer
      # description: Filesystem group
      # default: 10001
      # @schema
      # type: integer
      # description: Filesystem group
      # default: 10001
      # @schema
      fsGroup: 10001
      # type: object
      # additionalProperties: true
      # description: Seccomp profile configuration
      # @schema
      # type: object
      # additionalProperties: true
      # description: Seccomp profile configuration
      # @schema
      seccompProfile:
        # type: boolean
        # description: Enable seccomp profile
        # default: true
        # @schema
        # type: boolean
        # description: Enable seccomp profile
        # default: true
        # @schema
        enabled: true
        # description: Seccomp profile type
        # enum: [RuntimeDefault, Localhost, Unconfined]
        # default: RuntimeDefault
        # @schema
        # description: Seccomp profile type
        # enum: [RuntimeDefault, Localhost, Unconfined]
        # default: RuntimeDefault
        # @schema
        type: RuntimeDefault

    # type: integer
    # description: Termination grace period in seconds
    # default: 10
    # @schema
    # type: integer
    # description: Termination grace period in seconds
    # default: 10
    # @schema
    terminationGracePeriodSeconds: 10

    # type: object
    # additionalProperties: true
    # description: Container image configuration
    # @schema
    # type: object
    # additionalProperties: true
    # description: Container image configuration
    # @schema
    image:
      # type: string
      # description: Image registry
      # default: ghcr.io/asgardeo
      # @schema
      # type: string
      # description: Image registry
      # default: ghcr.io/asgardeo
      # @schema
      registry: ghcr.io/asgardeo
      # type: string
      # description: Image repository
      # default: thunder
      # @schema
      # type: string
      # description: Image repository
      # default: thunder
      # @schema
      repository: thunder
      # type: string
      # description: Image tag
      # default: "0.21.0"
      # @schema
      # type: string
      # description: Image tag
      # default: "0.21.0"
      # @schema
      tag: "0.21.0"
      # description: Image pull policy
      # enum: [Always, IfNotPresent, Never]
      # default: IfNotPresent
      # @schema
      # description: Image pull policy
      # enum: [Always, IfNotPresent, Never]
      # default: IfNotPresent
      # @schema
      pullPolicy: IfNotPresent

    # type: object
    # additionalProperties: true
    # description: Container configuration
    # @schema
    # type: object
    # additionalProperties: true
    # description: Container configuration
    # @schema
    container:
      # type: integer
      # description: Container port
      # default: 8090
      # @schema
      # type: integer
      # description: Container port
      # default: 8090
      # @schema
      port: 8090

    # type: object
    # additionalProperties: true
    # description: Resource requests and limits
    # @schema
    # type: object
    # additionalProperties: true
    # description: Resource requests and limits
    # @schema
    resources:
      # type: object
      # additionalProperties: true
      # description: Resource limits
      # @schema
      # type: object
      # additionalProperties: true
      # description: Resource limits
      # @schema
      limits:
        # type: string
        # description: CPU limit
        # default: 500m
        # @schema
        # type: string
        # description: CPU limit
        # default: 500m
        # @schema
        cpu: 500m
        # type: string
        # description: Memory limit
        # default: 512Mi
        # @schema
        # type: string
        # description: Memory limit
        # default: 512Mi
        # @schema
        memory: 512Mi
      # type: object
      # additionalProperties: true
      # description: Resource requests
      # @schema
      # type: object
      # additionalProperties: true
      # description: Resource requests
      # @schema
      requests:
        # type: string
        # description: CPU request
        # default: 100m
        # @schema
        # type: string
        # description: CPU request
        # default: 100m
        # @schema
        cpu: 100m
        # type: string
        # description: Memory request
        # default: 128Mi
        # @schema
        # type: string
        # description: Memory request
        # default: 128Mi
        # @schema
        memory: 128Mi

  # type: object
  # additionalProperties: true
  # description: Persistent storage configuration
  # @schema
  # type: object
  # additionalProperties: true
  # description: Persistent storage configuration
  # @schema
  persistence:
    # type: boolean
    # description: Enable persistent storage
    # default: true
    # @schema
    # type: boolean
    # description: Enable persistent storage
    # default: true
    # @schema
    enabled: true
    # type: string
    # description: Storage class name. If empty, uses default storage class
    # default: ""
    # @schema
    # type: string
    # description: Storage class name. If empty, uses default storage class
    # default: ""
    # @schema
    storageClass: ""
    # description: Access mode for the persistent volume
    # enum: [ReadWriteOnce, ReadWriteMany, ReadOnlyMany]
    # default: ReadWriteOnce
    # @schema
    # description: Access mode for the persistent volume
    # enum: [ReadWriteOnce, ReadWriteMany, ReadOnlyMany]
    # default: ReadWriteOnce
    # @schema
    accessMode: ReadWriteOnce
    # type: string
    # description: Size of the persistent volume
    # default: 1Gi
    # @schema
    # type: string
    # description: Size of the persistent volume
    # default: 1Gi
    # @schema
    size: 1Gi
    # type: object
    # additionalProperties: true
    # description: Annotations for the PVC
    # additionalProperties:
    #   type: string
    # default: {}
    # @schema
    # type: object
    # additionalProperties: true
    # description: Annotations for the PVC
    # default: {}
    # @schema
    annotations: {}

  # type: object
  # additionalProperties: true
  # description: Service configuration
  # @schema
  # type: object
  # additionalProperties: true
  # description: Service configuration
  # @schema
  service:
    # type: integer
    # description: Service port
    # default: 8090
    # @schema
    # type: integer
    # description: Service port
    # default: 8090
    # @schema
    port: 8090

  # type: object
  # additionalProperties: true
  # description: Service account configuration
  # @schema
  # type: object
  # additionalProperties: true
  # description: Service account configuration
  # @schema
  serviceAccount:
    # type: string
    # description: Service account name
    # default: thunder-service-account
    # @schema
    # type: string
    # description: Service account name
    # default: thunder-service-account
    # @schema
    name: thunder-service-account
    # type: boolean
    # description: Create service account
    # default: true
    # @schema
    # type: boolean
    # description: Create service account
    # default: true
    # @schema
    create: true

  # type: object
  # additionalProperties: true
  # description: Horizontal Pod Autoscaler configuration
  # @schema
  # type: object
  # additionalProperties: true
  # description: Horizontal Pod Autoscaler configuration
  # @schema
  hpa:
    # type: boolean
    # description: Enable HPA
    # default: false
    # @schema
    # type: boolean
    # description: Enable HPA
    # default: false
    # @schema
    enabled: false

  # type: object
  # additionalProperties: true
  # description: Pod Disruption Budget configuration
  # @schema
  # type: object
  # additionalProperties: true
  # description: Pod Disruption Budget configuration
  # @schema
  pdb:
    # type: string
    # description: Minimum available pods (percentage or number)
    # default: "50%"
    # @schema
    # type: string
    # description: Minimum available pods (percentage or number)
    # default: "50%"
    # @schema
    minAvailable: "50%"

  # type: object
  # additionalProperties: true
  # description: Standard ingress configuration (typically disabled in favor of ocIngress)
  # @schema
  # type: object
  # additionalProperties: true
  # description: Standard ingress configuration (typically disabled in favor of ocIngress)
  # @schema
  ingress:
    # type: boolean
    # description: Enable standard ingress
    # default: false
    # @schema
    # type: boolean
    # description: Enable standard ingress
    # default: false
    # @schema
    enabled: false
    # type: string
    # description: Ingress class name
    # default: ""
    # @schema
    # type: string
    # description: Ingress class name
    # default: ""
    # @schema
    ingressClassName: ""
    # type: object
    # additionalProperties: true
    # description: Ingress annotations
    # additionalProperties:
    #   type: string
    # default: {}
    # @schema
    # type: object
    # additionalProperties: true
    # description: Ingress annotations
    # default: {}
    # @schema
    annotations: {}
    # type: array
    # description: Ingress hosts
    # items:
    #   type: object
    # default: []
    # @schema
    # type: array
    # description: Ingress hosts
    # items:
    #   type: object
    # default: []
    # @schema
    hosts: []
    # type: array
    # description: Ingress TLS configuration
    # items:
    #   type: object
    # default: []
    # @schema
    # type: array
    # description: Ingress TLS configuration
    # items:
    #   type: object
    # default: []
    # @schema
    tls: []

  # type: object
  # additionalProperties: true
  # description: OpenChoreo-specific ingress configuration
  # @schema
  # type: object
  # additionalProperties: true
  # description: OpenChoreo-specific ingress configuration
  # @schema
  ocIngress:
    # type: boolean
    # description: Enable OpenChoreo ingress
    # default: true
    # @schema
    # type: boolean
    # description: Enable OpenChoreo ingress
    # default: true
    # @schema
    enabled: true
    # type: string
    # description: Ingress class name. If empty, uses global.ingressClassName
    # default: ""
    # @schema
    # type: string
    # description: Ingress class name. If empty, uses global.ingressClassName
    # default: ""
    # @schema
    ingressClassName: ""
    # type: object
    # additionalProperties: true
    # description: Ingress annotations
    # additionalProperties:
    #   type: string
    # default: {}
    # @schema
    # type: object
    # additionalProperties: true
    # description: Ingress annotations
    # default: {}
    # @schema
    annotations: {}
    # type: array
    # description: Ingress hosts. If empty, derives from global.baseDomain
    # items:
    #   type: object
    # default: []
    # @schema
    # type: array
    # description: Ingress hosts. If empty, derives from global.baseDomain
    # items:
    #   type: object
    # default: []
    # @schema
    hosts: []
    # type: array
    # description: Ingress TLS configuration
    # items:
    #   type: object
    # default: []
    # @schema
    # type: array
    # description: Ingress TLS configuration
    # items:
    #   type: object
    # default: []
    # @schema
    tls: []

  # type: object
  # additionalProperties: true
  # description: Thunder application configuration
  # @schema
  # type: object
  # additionalProperties: true
  # description: Thunder application configuration
  # @schema
  configuration:
    # type: object
    # additionalProperties: true
    # description: Server configuration
    # @schema
    # type: object
    # additionalProperties: true
    # description: Server configuration
    # @schema
    server:
      # type: integer
      # description: Server port
      # default: 8090
      # @schema
      # type: integer
      # description: Server port
      # default: 8090
      # @schema
      port: 8090
      # type: boolean
      # description: HTTP-only mode (no HTTPS termination at Thunder)
      # default: true
      # @schema
      # type: boolean
      # description: HTTP-only mode (no HTTPS termination at Thunder)
      # default: true
      # @schema
      httpOnly: true
      # type: string
      # description: Public URL for Thunder. If empty, auto-derived from global.baseDomain
      # default: ""
      # @schema
      # type: string
      # description: Public URL for Thunder. If empty, auto-derived from global.baseDomain
      # default: ""
      # @schema
      publicUrl: ""

    # type: object
    # additionalProperties: true
    # description: Gate client configuration for API gateway integration
    # @schema
    # type: object
    # additionalProperties: true
    # description: Gate client configuration for API gateway integration
    # @schema
    gateClient:
      # type: string
      # description: Gate client hostname
      # default: ""
      # @schema
      # type: string
      # description: Gate client hostname
      # default: ""
      # @schema
      hostname: ""
      # type: integer
      # description: Gate client port
      # default: 8080
      # @schema
      # type: integer
      # description: Gate client port
      # default: 8080
      # @schema
      port: 8080
      # description: Protocol scheme
      # enum: [http, https]
      # default: http
      # @schema
      # description: Protocol scheme
      # enum: [http, https]
      # default: http
      # @schema
      scheme: "http"
      # type: string
      # description: Login path
      # default: /gate/signin
      # @schema
      # type: string
      # description: Login path
      # default: /gate/signin
      # @schema
      loginPath: "/gate/signin"
      # type: string
      # description: Error path
      # default: /gate/error
      # @schema
      # type: string
      # description: Error path
      # default: /gate/error
      # @schema
      errorPath: "/gate/error"

    # type: object
    # additionalProperties: true
    # description: TLS configuration
    # @schema
    # type: object
    # additionalProperties: true
    # description: TLS configuration
    # @schema
    tls:
      # type: string
      # description: Minimum TLS version
      # default: "1.3"
      # @schema
      # type: string
      # description: Minimum TLS version
      # default: "1.3"
      # @schema
      minVersion: "1.3"
      # type: string
      # description: Server certificate file path
      # default: repository/resources/security/server.cert
      # @schema
      # type: string
      # description: Server certificate file path
      # default: repository/resources/security/server.cert
      # @schema
      certFile: "repository/resources/security/server.cert"
      # type: string
      # description: Server private key file path
      # default: repository/resources/security/server.key
      # @schema
      # type: string
      # description: Server private key file path
      # default: repository/resources/security/server.key
      # @schema
      keyFile: "repository/resources/security/server.key"

    # type: object
    # additionalProperties: true
    # description: Crypto configuration
    # @schema
    # type: object
    # additionalProperties: true
    # description: Crypto configuration
    # @schema
    crypto:
      # type: object
      # additionalProperties: true
      # description: Encryption configuration
      # @schema
      # type: object
      # additionalProperties: true
      # description: Encryption configuration
      # @schema
      encryption:
        # type: string
        # description: Encryption key (32-byte hex string or file:// path)
        # default: file://repository/resources/security/crypto.key
        # @schema
        # type: string
        # description: Encryption key (32-byte hex string or file:// path)
        # default: file://repository/resources/security/crypto.key
        # @schema
        key: "file://repository/resources/security/crypto.key"

    # type: object
    # additionalProperties: true
    # description: Database configuration using SQLite
    # @schema
    # type: object
    # additionalProperties: true
    # description: Database configuration using SQLite
    # @schema
    database:
      # type: object
      # additionalProperties: true
      # description: Identity database configuration
      # @schema
      # type: object
      # additionalProperties: true
      # description: Identity database configuration
      # @schema
      identity:
        # description: Database type
        # enum: [sqlite, mysql, postgres]
        # default: sqlite
        # @schema
        # description: Database type
        # enum: [sqlite, mysql, postgres]
        # default: sqlite
        # @schema
        type: sqlite
        # type: string
        # description: SQLite database file path
        # default: repository/database/thunderdb.db
        # @schema
        # type: string
        # description: SQLite database file path
        # default: repository/database/thunderdb.db
        # @schema
        sqlitePath: "repository/database/thunderdb.db"
        # type: string
        # description: SQLite connection options
        # default: _journal_mode=WAL&_busy_timeout=5000
        # @schema
        # type: string
        # description: SQLite connection options
        # default: _journal_mode=WAL&_busy_timeout=5000
        # @schema
        sqliteOptions: "_journal_mode=WAL&_busy_timeout=5000"
      # type: object
      # additionalProperties: true
      # description: Runtime database configuration
      # @schema
      # type: object
      # additionalProperties: true
      # description: Runtime database configuration
      # @schema
      runtime:
        # description: Database type
        # enum: [sqlite, mysql, postgres]
        # default: sqlite
        # @schema
        # description: Database type
        # enum: [sqlite, mysql, postgres]
        # default: sqlite
        # @schema
        type: sqlite
        # type: string
        # description: SQLite database file path
        # default: repository/database/runtimedb.db
        # @schema
        # type: string
        # description: SQLite database file path
        # default: repository/database/runtimedb.db
        # @schema
        sqlitePath: "repository/database/runtimedb.db"
        # type: string
        # description: SQLite connection options
        # default: _journal_mode=WAL&_busy_timeout=5000
        # @schema
        # type: string
        # description: SQLite connection options
        # default: _journal_mode=WAL&_busy_timeout=5000
        # @schema
        sqliteOptions: "_journal_mode=WAL&_busy_timeout=5000"
      # type: object
      # additionalProperties: true
      # description: User database configuration
      # @schema
      # type: object
      # additionalProperties: true
      # description: User database configuration
      # @schema
      user:
        # description: Database type
        # enum: [sqlite, mysql, postgres]
        # default: sqlite
        # @schema
        # description: Database type
        # enum: [sqlite, mysql, postgres]
        # default: sqlite
        # @schema
        type: sqlite
        # type: string
        # description: SQLite database file path
        # default: repository/database/userdb.db
        # @schema
        # type: string
        # description: SQLite database file path
        # default: repository/database/userdb.db
        # @schema
        sqlitePath: "repository/database/userdb.db"
        # type: string
        # description: SQLite connection options
        # default: _journal_mode=WAL&_busy_timeout=5000
        # @schema
        # type: string
        # description: SQLite connection options
        # default: _journal_mode=WAL&_busy_timeout=5000
        # @schema
        sqliteOptions: "_journal_mode=WAL&_busy_timeout=5000"

    # type: object
    # additionalProperties: true
    # description: Cache configuration
    # @schema
    # type: object
    # additionalProperties: true
    # description: Cache configuration
    # @schema
    cache:
      # type: boolean
      # description: Disable caching
      # default: false
      # @schema
      # type: boolean
      # description: Disable caching
      # default: false
      # @schema
      disabled: false
      # description: Cache type
      # enum: [inmemory, redis]
      # default: inmemory
      # @schema
      # description: Cache type
      # enum: [inmemory, redis]
      # default: inmemory
      # @schema
      type: "inmemory"
      # type: integer
      # description: Maximum cache size
      # default: 1000
      # @schema
      # type: integer
      # description: Maximum cache size
      # default: 1000
      # @schema
      size: 1000
      # type: integer
      # description: Cache TTL in seconds
      # default: 3600
      # @schema
      # type: integer
      # description: Cache TTL in seconds
      # default: 3600
      # @schema
      ttl: 3600
      # description: Cache eviction policy
      # enum: [LRU, LFU]
      # default: LRU
      # @schema
      # description: Cache eviction policy
      # enum: [LRU, LFU]
      # default: LRU
      # @schema
      evictionPolicy: "LRU"
      # type: integer
      # description: Cache cleanup interval in seconds
      # default: 300
      # @schema
      # type: integer
      # description: Cache cleanup interval in seconds
      # default: 300
      # @schema
      cleanupInterval: 300

    # type: object
    # additionalProperties: true
    # description: JWT token configuration
    # @schema
    # type: object
    # additionalProperties: true
    # description: JWT token configuration
    # @schema
    jwt:
      # type: string
      # description: JWT issuer name
      # default: thunder
      # @schema
      # type: string
      # description: JWT issuer name
      # default: thunder
      # @schema
      issuer: ""
      # type: integer
      # description: Token validity period in seconds
      # default: 3600
      # @schema
      # type: integer
      # description: Token validity period in seconds
      # default: 3600
      # @schema
      validityPeriod: 3600
      # type: string
      # description: Token audience
      # default: application
      # @schema
      # type: string
      # description: Token audience
      # default: application
      # @schema
      audience: "application"

    # type: object
    # additionalProperties: true
    # description: OAuth configuration
    # @schema
    # type: object
    # additionalProperties: true
    # description: OAuth configuration
    # @schema
    oauth:
      # type: object
      # additionalProperties: true
      # description: Refresh token configuration
      # @schema
      # type: object
      # additionalProperties: true
      # description: Refresh token configuration
      # @schema
      refreshToken:
        # type: boolean
        # description: Renew refresh token on grant
        # default: false
        # @schema
        # type: boolean
        # description: Renew refresh token on grant
        # default: false
        # @schema
        renewOnGrant: false
        # type: integer
        # description: Refresh token validity period in seconds
        # default: 86400
        # @schema
        # type: integer
        # description: Refresh token validity period in seconds
        # default: 86400
        # @schema
        validityPeriod: 86400
      # type: object
      # additionalProperties: true
      # description: Authorization code configuration
      # @schema
      # type: object
      # additionalProperties: true
      # description: Authorization code configuration
      # @schema
      authorizationCode:
        # type: integer
        # description: Authorization code validity period in seconds
        # default: 600
        # @schema
        # type: integer
        # description: Authorization code validity period in seconds
        # default: 600
        # @schema
        validityPeriod: 600

    # type: object
    # additionalProperties: true
    # description: Authentication flow configuration
    # @schema
    # type: object
    # additionalProperties: true
    # description: Authentication flow configuration
    # @schema
    flow:
      # type: string
      # description: Default authentication flow handle
      # default: default-basic-flow
      # @schema
      # type: string
      # description: Default authentication flow handle
      # default: default-basic-flow
      # @schema
      defaultAuthFlowHandle: "default-basic-flow"
      # type: integer
      # description: Maximum number of flow versions to keep
      # default: 3
      # @schema
      # type: integer
      # description: Maximum number of flow versions to keep
      # default: 3
      # @schema
      maxVersionHistory: 3
      # type: boolean
      # description: Auto-infer registration flow from authentication flow
      # default: true
      # @schema
      # type: boolean
      # description: Auto-infer registration flow from authentication flow
      # default: true
      # @schema
      autoInferRegistration: true

    # type: object
    # additionalProperties: true
    # description: CORS configuration
    # @schema
    # type: object
    # additionalProperties: true
    # description: CORS configuration
    # @schema
    cors:
      # type: array
      # description: Allowed origins for CORS
      # items:
      #   type: string
      # @schema
      # type: array
      # description: Allowed origins for CORS
      # items:
      #   type: string
      # @schema
      allowedOrigins:
        - "http://openchoreo.localhost:8080"
        - "http://localhost:7007"

    # type: object
    # additionalProperties: true
    # description: Passkey configuration
    # @schema
    # type: object
    # additionalProperties: true
    # description: Passkey configuration
    # @schema
    passkey:
      # type: array
      # description: Allowed origins for passkey authentication
      # items:
      #   type: string
      # @schema
      # type: array
      # description: Allowed origins for passkey authentication
      # items:
      #   type: string
      # @schema
      allowedOrigins:
        - "http://openchoreo.localhost:8080"

    # type: object
    # additionalProperties: true
    # description: Developer client configuration
    # @schema
    # type: object
    # additionalProperties: true
    # description: Developer client configuration
    # @schema
    developerClient:
      # type: string
      # description: Developer client path
      # default: /develop
      # @schema
      # type: string
      # description: Developer client path
      # default: /develop
      # @schema
      path: "/develop"
      # type: string
      # description: Developer client ID
      # default: DEVELOP
      # @schema
      # type: string
      # description: Developer client ID
      # default: DEVELOP
      # @schema
      clientId: "DEVELOP"
      # type: string
      # description: Developer client scopes
      # default: "['openid', 'profile', 'email', 'system']"
      # @schema
      # type: string
      # description: Developer client scopes
      # default: "['openid', 'profile', 'email', 'system']"
      # @schema
      scopes: "['openid', 'profile', 'email', 'system']"

  # type: object
  # additionalProperties: true
  # description: Setup job configuration for Thunder initialization
  # @schema
  # type: object
  # additionalProperties: true
  # description: Setup job configuration for Thunder initialization
  # @schema
  setup:
    # type: boolean
    # description: Enable the setup job
    # default: true
    # @schema
    # type: boolean
    # description: Enable the setup job
    # default: true
    # @schema
    enabled: true
    # type: integer
    # description: Job backoff limit (retry count)
    # default: 3
    # @schema
    # type: integer
    # description: Job backoff limit (retry count)
    # default: 3
    # @schema
    backoffLimit: 3
    # type: boolean
    # description: Preserve job after completion
    # default: true
    # @schema
    # type: boolean
    # description: Preserve job after completion
    # default: true
    # @schema
    preserveJob: true
    # type: boolean
    # description: Enable debug mode for setup job
    # default: false
    # @schema
    # type: boolean
    # description: Enable debug mode for setup job
    # default: false
    # @schema
    debug: false
    # type: object
    # additionalProperties: true
    # description: Resource requests and limits for setup job
    # @schema
    # type: object
    # additionalProperties: true
    # description: Resource requests and limits for setup job
    # @schema
    resources:
      # type: object
      # additionalProperties: true
      # description: Resource limits
      # @schema
      # type: object
      # additionalProperties: true
      # description: Resource limits
      # @schema
      limits:
        # type: string
        # description: CPU limit
        # default: 500m
        # @schema
        # type: string
        # description: CPU limit
        # default: 500m
        # @schema
        cpu: 500m
        # type: string
        # description: Memory limit
        # default: 256Mi
        # @schema
        # type: string
        # description: Memory limit
        # default: 256Mi
        # @schema
        memory: 256Mi
      # type: object
      # additionalProperties: true
      # description: Resource requests
      # @schema
      # type: object
      # additionalProperties: true
      # description: Resource requests
      # @schema
      requests:
        # type: string
        # description: CPU request
        # default: 250m
        # @schema
        # type: string
        # description: CPU request
        # default: 250m
        # @schema
        cpu: 250m
        # type: string
        # description: Memory request
        # default: 128Mi
        # @schema
        # type: string
        # description: Memory request
        # default: 128Mi
        # @schema
        memory: 128Mi

  # type: object
  # additionalProperties: true
  # description: Bootstrap configuration for Backstage OAuth app and default users
  # @schema
  # type: object
  # additionalProperties: true
  # description: Bootstrap configuration for Backstage OAuth app and default users
  # @schema
  bootstrap:
    # type: boolean
    # description: Enable bootstrap scripts
    # default: true
    # @schema
    # type: boolean
    # description: Enable bootstrap scripts
    # default: true
    # @schema
    enabled: true
    # type: object
    # additionalProperties: true
    # description: ConfigMap configuration for bootstrap scripts
    # @schema
    # type: object
    # additionalProperties: true
    # description: ConfigMap configuration for bootstrap scripts
    # @schema
    configMap:
      # type: string
      # description: ConfigMap name containing bootstrap scripts
      # default: openchoreo-thunder-bootstrap
      # @schema
      # type: string
      # description: ConfigMap name containing bootstrap scripts
      # default: openchoreo-thunder-bootstrap
      # @schema
      name: openchoreo-thunder-bootstrap
      # type: array
      # description: Bootstrap script files to run
      # items:
      #   type: string
      # @schema
      # type: array
      # description: Bootstrap script files to run
      # items:
      #   type: string
      # @schema
      files:
        - 50-user-schema-and-users.sh
        - 51-backstage-app.sh
        - 52-default-apps.sh
        - 53-rca-agent-client.sh
        - 54-cli-app.sh
        - 55-system-app.sh
    # @schema
    # type: array
    # description: Default users to create during bootstrap
    # items:
    #   type: object
    #   properties:
    #     username:
    #       type: string
    #       description: User email/username
    #     password:
    #       type: string
    #       description: User password
    #     givenName:
    #       type: string
    #       description: User first name
    #     familyName:
    #       type: string
    #       description: User last name
    #     groups:
    #       type: array
    #       items:
    #         type: string
    #       description: User group memberships
    # @schema
    defaultUsers:
      - username: "admin@openchoreo.dev"
        password: "Admin@123"
        givenName: "Admin"
        familyName: "User"
        groups: ["platformEngineer"]
    # type: array
    # description: Default OAuth applications to create during bootstrap
    # items:
    #   type: object
    #   properties:
    #     clientId:
    #       type: string
    #       description: OAuth client ID
    #     clientSecret:
    #       type: string
    #       description: OAuth client secret
    # @schema
    # type: array
    # description: Default OAuth applications to create during bootstrap
    # items:
    #   type: object
    #   properties:
    #     clientId:
    #       type: string
    #       description: OAuth client ID
    #     clientSecret:
    #       type: string
    #       description: OAuth client secret
    # @schema
    defaultApps:
      - clientId: "customer-portal-client"
        clientSecret: "supersecret"
      # TODO: Remove the custom script and use the below setup
      # - clientId: "openchoreo-rca-agent"
      #   clientSecret: "openchoreo-rca-agent-secret"
    # RCA Agent OAuth2 Client (client_credentials grant type)
    rcaAgentClient:
      clientId: "openchoreo-rca-agent"
      clientSecret: "openchoreo-rca-agent-secret"
    # Generic system application (client_credentials grant type) for invoking Thunder system APIs
    systemApp:
      clientId: "openchoreo-system-app"
      clientSecret: "openchoreo-system-app-secret"

# @schema
# type: object
# additionalProperties: true
# description: Cluster Gateway configuration - manages WebSocket connections from cluster agents
# @schema
clusterGateway:
  # type: boolean
  # description: Enable the cluster gateway
  # default: true
  # @schema
  # type: boolean
  # description: Enable the cluster gateway
  # default: true
  # @schema
  enabled: true

  # type: string
  # description: Name of the cluster gateway deployment
  # default: cluster-gateway
  # @schema
  # type: string
  # description: Name of the cluster gateway deployment
  # default: cluster-gateway
  # @schema
  name: cluster-gateway

  # type: integer
  # description: Number of cluster gateway replicas
  # minimum: 1
  # default: 1
  # @schema
  # type: integer
  # description: Number of cluster gateway replicas
  # minimum: 1
  # default: 1
  # @schema
  replicas: 1

  # type: object
  # description: Container image configuration
  # @schema
  # type: object
  # additionalProperties: true
  # description: Container image configuration
  # @schema
  image:
    # type: string
    # description: Docker image repository
    # default: ghcr.io/openchoreo/cluster-gateway
    # @schema
    # type: string
    # description: Docker image repository
    # default: ghcr.io/openchoreo/cluster-gateway
    # @schema
    repository: ghcr.io/openchoreo/cluster-gateway
    # type: string
    # description: Image tag. If empty, uses Chart.AppVersion
    # default: ""
    # @schema
    # type: string
    # description: Image tag. If empty, uses Chart.AppVersion
    # default: ""
    # @schema
    tag: ""
    # description: Image pull policy
    # enum: [Always, IfNotPresent, Never]
    # default: IfNotPresent
    # @schema
    # description: Image pull policy
    # enum: [Always, IfNotPresent, Never]
    # default: IfNotPresent
    # @schema
    pullPolicy: IfNotPresent

  # type: integer
  # description: WebSocket port for agent connections
  # default: 8443
  # @schema
  # type: integer
  # description: WebSocket port for agent connections
  # default: 8443
  # @schema
  port: 8443

  # type: string
  # description: Heartbeat interval for agent connections
  # default: 30s
  # @schema
  # type: string
  # description: Heartbeat interval for agent connections
  # default: 30s
  # @schema
  heartbeatInterval: 30s

  # type: string
  # description: Heartbeat timeout for agent connections
  # default: 90s
  # @schema
  # type: string
  # description: Heartbeat timeout for agent connections
  # default: 90s
  # @schema
  heartbeatTimeout: 90s

  # description: Log level
  # enum: [debug, info, warn, error]
  # default: info
  # @schema
  # description: Log level
  # enum: [debug, info, warn, error]
  # default: info
  # @schema
  logLevel: info

  # type: object
  # description: Resource requests and limits
  # @schema
  # type: object
  # additionalProperties: true
  # description: Resource requests and limits
  # @schema
  resources:
    # type: object
    # description: Resource requests
    # @schema
    # type: object
    # additionalProperties: true
    # description: Resource requests
    # @schema
    requests:
      # type: string
      # description: CPU request
      # default: 100m
      # @schema
      # type: string
      # description: CPU request
      # default: 100m
      # @schema
      cpu: "100m"
      # type: string
      # description: Memory request
      # default: 64Mi
      # @schema
      # type: string
      # description: Memory request
      # default: 64Mi
      # @schema
      memory: "64Mi"
    # type: object
    # description: Resource limits
    # @schema
    # type: object
    # additionalProperties: true
    # description: Resource limits
    # @schema
    limits:
      # type: string
      # description: CPU limit
      # default: 500m
      # @schema
      # type: string
      # description: CPU limit
      # default: 500m
      # @schema
      cpu: "500m"
      # type: string
      # description: Memory limit
      # default: 256Mi
      # @schema
      # type: string
      # description: Memory limit
      # default: 256Mi
      # @schema
      memory: "256Mi"

  # type: object
  # description: Service account configuration
  # @schema
  # type: object
  # additionalProperties: true
  # description: Service account configuration
  # @schema
  serviceAccount:
    # type: boolean
    # description: Create a service account
    # default: true
    # @schema
    # type: boolean
    # description: Create a service account
    # default: true
    # @schema
    create: true
    # type: string
    # description: Service account name
    # default: cluster-gateway
    # @schema
    # type: string
    # description: Service account name
    # default: cluster-gateway
    # @schema
    name: cluster-gateway
    # type: object
    # description: Service account annotations
    # additionalProperties:
    #   type: string
    # default: {}
    # @schema
    # type: object
    # description: Service account annotations
    # additionalProperties:
    #   type: string
    # default: {}
    # @schema
    annotations: {}

  # type: object
  # description: Priority class configuration
  # @schema
  # type: object
  # additionalProperties: true
  # description: Priority class configuration
  # @schema
  priorityClass:
    # type: boolean
    # description: Create a priority class
    # default: false
    # @schema
    # type: boolean
    # description: Create a priority class
    # default: false
    # @schema
    create: false
    # type: string
    # description: Priority class name
    # default: cluster-gateway
    # @schema
    # type: string
    # description: Priority class name
    # default: cluster-gateway
    # @schema
    name: cluster-gateway
    # type: integer
    # description: Priority class value
    # default: 900000
    # @schema
    # type: integer
    # description: Priority class value
    # default: 900000
    # @schema
    value: 900000

  # type: object
  # description: Kubernetes service configuration
  # @schema
  # type: object
  # additionalProperties: true
  # description: Kubernetes service configuration
  # @schema
  service:
    # description: Service type
    # enum: [ClusterIP, NodePort, LoadBalancer]
    # default: ClusterIP
    # @schema
    # description: Service type
    # enum: [ClusterIP, NodePort, LoadBalancer]
    # default: ClusterIP
    # @schema
    type: ClusterIP
    # type: integer
    # description: Service port
    # default: 8443
    # @schema
    # type: integer
    # description: Service port
    # default: 8443
    # @schema
    port: 8443
    # type: [integer, "null"]
        # description: NodePort (only used if service.type is NodePort)
    # @schema
    # type: [integer, "null"]
        # description: NodePort (only used if service.type is NodePort)
        # @schema
    nodePort: null
    # type: [string, "null"]
        # description: LoadBalancer IP (only used if service.type is LoadBalancer)
    # @schema
    # type: [string, "null"]
        # description: LoadBalancer IP (only used if service.type is LoadBalancer)
        # @schema
    loadBalancerIP: null
    # type: [string, "null"]
        # description: Cluster IP (set to None for headless service)
    # @schema
    # type: [string, "null"]
        # description: Cluster IP (set to None for headless service)
        # @schema
    clusterIP: null

  # type: object
  # description: TLSRoute configuration for Gateway API
  # @schema
  # type: object
  # additionalProperties: true
  # description: TLSRoute configuration for Gateway API
  # @schema
  tlsRoute:
    # type: boolean
    # description: Enable TLSRoute for cluster gateway
    # default: false
    # @schema
    # type: boolean
    # description: Enable TLSRoute for cluster gateway
    # default: false
    # @schema
    enabled: false
    # type: array
    # description: Hostnames for TLSRoute
    # items:
    #   type: object
    # default: []
    # @schema
    # type: array
    # description: Hostnames for TLSRoute
    # items:
    #   type: object
    # default: []
    # @schema
    hosts: []

  # type: object
  # description: TLS configuration using cert-manager
  # @schema
  # type: object
  # additionalProperties: true
  # description: TLS configuration using cert-manager
  # @schema
  tls:
    # type: boolean
    # description: Enable TLS
    # default: true
    # @schema
    # type: boolean
    # description: Enable TLS
    # default: true
    # @schema
    enabled: true
    # type: string
    # description: TLS secret name
    # default: cluster-gateway-tls
    # @schema
    # type: string
    # description: TLS secret name
    # default: cluster-gateway-tls
    # @schema
    secretName: cluster-gateway-tls
    # @schema
    # type: boolean
    # description: Skip client certificate verification for agent connections (for single-cluster setups without mTLS)
    # default: false
    # @schema
    skipClientCertVerify: false
    # type: object
    # description: cert-manager issuer reference
    # @schema
    # type: object
    # additionalProperties: true
    # description: cert-manager issuer reference
    # @schema
    issuerRef:
      # description: Issuer kind
      # enum: [Issuer, ClusterIssuer]
      # default: Issuer
      # @schema
      # description: Issuer kind
      # enum: [Issuer, ClusterIssuer]
      # default: Issuer
      # @schema
      kind: Issuer
      # type: string
      # description: Issuer name
      # default: cluster-gateway-selfsigned-issuer
      # @schema
      # type: string
      # description: Issuer name
      # default: cluster-gateway-selfsigned-issuer
      # @schema
      name: cluster-gateway-selfsigned-issuer
    # type: array
    # description: DNS names for the certificate
    # items:
    #   type: string
    # @schema
    # type: array
    # description: DNS names for the certificate
    # items:
    #   type: string
    # @schema
    dnsNames:
      - cluster-gateway.openchoreo-control-plane.svc
      - cluster-gateway.openchoreo-control-plane.svc.cluster.local
    # type: string
    # description: Certificate validity duration (90 days)
    # default: 2160h
    # @schema
    # type: string
    # description: Certificate validity duration (90 days)
    # default: 2160h
    # @schema
    duration: 2160h
    # type: string
    # description: Certificate renewal threshold (15 days before expiry)
    # default: 360h
    # @schema
    # type: string
    # description: Certificate renewal threshold (15 days before expiry)
    # default: 360h
    # @schema
    renewBefore: 360h

  # type: object
  # description: Pod security context
  # @schema
  # type: object
  # additionalProperties: true
  # description: Pod security context
  # @schema
  podSecurityContext:
    # type: boolean
    # description: Run as non-root user
    # default: true
    # @schema
    # type: boolean
    # description: Run as non-root user
    # default: true
    # @schema
    runAsNonRoot: true
    # type: integer
    # description: User ID
    # default: 1000
    # @schema
    # type: integer
    # description: User ID
    # default: 1000
    # @schema
    runAsUser: 1000
    # type: integer
    # description: Filesystem group
    # default: 1000
    # @schema
    # type: integer
    # description: Filesystem group
    # default: 1000
    # @schema
    fsGroup: 1000

  # type: object
  # description: Container security context
  # @schema
  # type: object
  # additionalProperties: true
  # description: Container security context
  # @schema
  securityContext:
    # type: boolean
    # description: Prevent privilege escalation
    # default: false
    # @schema
    # type: boolean
    # description: Prevent privilege escalation
    # default: false
    # @schema
    allowPrivilegeEscalation: false
    # type: object
    # description: Linux capabilities
    # @schema
    # type: object
    # additionalProperties: true
    # description: Linux capabilities
    # @schema
    capabilities:
      # type: array
      # description: Capabilities to drop
      # items:
      #   type: string
      # @schema
      # type: array
      # description: Capabilities to drop
      # items:
      #   type: string
      # @schema
      drop:
        - ALL
    # type: boolean
    # description: Read-only root filesystem
    # default: true
    # @schema
    # type: boolean
    # description: Read-only root filesystem
    # default: true
    # @schema
    readOnlyRootFilesystem: true

  # type: object
  # description: Node selector
  # additionalProperties:
  #   type: string
  # default: {}
  # @schema
  # type: object
  # description: Node selector
  # additionalProperties:
  #   type: string
  # default: {}
  # @schema
  nodeSelector: {}

  # type: array
  # description: Tolerations
  # items:
  #   type: object
  # default: []
  # @schema
  # type: array
  # description: Tolerations
  # items:
  #   type: object
  # default: []
  # @schema
  tolerations: []

  # type: object
  # description: Affinity rules
  # default: {}
  # @schema
  # type: object
  # additionalProperties: true
  # description: Affinity rules
  # default: {}
  # @schema
  affinity: {}

# @schema
# type: object
# additionalProperties: true
# description: KGateway controller configuration
# @schema
gatewayController:
  # @schema
  # type: boolean
  # description: Enable kgateway controller installation (set to false in single cluster mode for data-plane)
  # default: true
  # @schema
  enabled: true

# @schema
# type: object
# additionalProperties: true
# description: KGateway (Gateway API) configuration (subchart)
# @schema
gateway:
  # @schema
  # type: boolean
  # description: Enable Gateway CR creation
  # default: true
  # @schema
  enabled: true

  # @schema
  # type: object
  # additionalProperties: true
  # description: |
  #   Gateway infrastructure configuration passed to the generated Service.
  #   Used to configure cloud provider load balancer settings via annotations.
  #   Example for AWS with Elastic IP:
  #     infrastructure:
  #       annotations:
  #         service.beta.kubernetes.io/aws-load-balancer-type: "external"
  #         service.beta.kubernetes.io/aws-load-balancer-nlb-target-type: "ip"
  #         service.beta.kubernetes.io/aws-load-balancer-scheme: "internet-facing"
  #         service.beta.kubernetes.io/aws-load-balancer-eip-allocations: "eipalloc-xxx"
  # @schema
  infrastructure: {}

  # @schema
  # type: object
  # description: Self-signed ClusterIssuer configuration
  # @schema
  selfSignedIssuer:
    # @schema
    # type: boolean
    # description: Create self-signed ClusterIssuer (set to false in single cluster mode for data-plane)
    # default: true
    # @schema
    enabled: true

  # @schema
  # type: integer
  # description: HTTP listener port
  # default: 80
  # @schema
  httpPort: 80

  # @schema
  # type: integer
  # description: HTTPS listener port
  # default: 443
  # @schema
  httpsPort: 443

  # @schema
  # type: object
  # description: TLS configuration for gateway
  # @schema
  tls:
    # @schema
    # type: string
    # description: ClusterIssuer for certificate generation (empty uses default self-signed issuer)
    # default: ""
    # @schema
    clusterIssuer: ""

    # @schema
    # type: string
    # description: Hostname pattern for TLS certificate
    # default: "*.{{ .Values.global.baseDomain }}"
    # @schema
    hostname: ""

    # @schema
    # type: string
    # description: Certificate secret name
    # default: "{{ .Values.global.tls.secretName }}"
    # @schema
    certName: ""

  # @schema
  # type: object
  # additionalProperties: true
  # description: Gateway controller configuration
  # @schema
  controller:
    # @schema
    # type: integer
    # description: Number of controller replicas
    # default: 1
    # @schema
    replicaCount: 1

    # @schema
    # description: Controller log level
    # enum: [debug, info, warn, error]
    # default: info
    # @schema
    logLevel: info

    # @schema
    # type: object
    # description: Controller image configuration
    # @schema
    image:
      # @schema
      # type: string
      # description: Image registry
      # default: ""
      # @schema
      registry: ""

      # @schema
      # type: string
      # description: Image repository
      # default: kgateway
      # @schema
      repository: kgateway

      # @schema
      # description: Image pull policy
      # enum: [Always, IfNotPresent, Never]
      # default: IfNotPresent
      # @schema
      pullPolicy: IfNotPresent

      # @schema
      # type: string
      # description: Image tag (defaults to chart appVersion)
      # default: ""
      # @schema
      tag: ""

    # @schema
    # type: object
    # description: Controller service configuration
    # @schema
    service:
      # @schema
      # description: Service type
      # enum: [ClusterIP, NodePort, LoadBalancer]
      # default: ClusterIP
      # @schema
      type: ClusterIP

      # @schema
      # type: object
      # description: Service ports
      # @schema
      ports:
        # @schema
        # type: integer
        # description: gRPC port
        # default: 9977
        # @schema
        grpc: 9977

        # @schema
        # type: integer
        # description: Agent gateway gRPC port
        # default: 9978
        # @schema
        agwGrpc: 9978

        # @schema
        # type: integer
        # description: Health check port
        # default: 9093
        # @schema
        health: 9093

        # @schema
        # type: integer
        # description: Metrics port
        # default: 9092
        # @schema
        metrics: 9092

    # @schema
    # type: object
    # description: Controller resource requests and limits
    # @schema
    resources:
      # @schema
      # type: object
      # description: Resource limits
      # @schema
      limits:
        # @schema
        # type: string
        # description: CPU limit
        # default: 200m
        # @schema
        cpu: 200m

        # @schema
        # type: string
        # description: Memory limit
        # default: 256Mi
        # @schema
        memory: 256Mi

      # @schema
      # type: object
      # description: Resource requests
      # @schema
      requests:
        # @schema
        # type: string
        # description: CPU request
        # default: 100m
        # @schema
        cpu: 100m

        # @schema
        # type: string
        # description: Memory request
        # default: 128Mi
        # @schema
        memory: 128Mi

  # @schema
  # type: object
  # description: Agent gateway configuration (for MCP and REST API connectivity)
  # @schema
  agentgateway:
    # @schema
    # type: boolean
    # description: Enable agent gateway
    # default: false
    # @schema
    enabled: false

  # @schema
  # type: object
  # description: Envoy proxy configuration
  # @schema
  envoy:
    # @schema
    # type: boolean
    # description: Enable Envoy proxy
    # default: true
    # @schema
    enabled: true

    # @schema
    # type: boolean
    # description: Mount /tmp as emptyDir volume (required for macOS Docker Desktop/Colima)
    # default: false
    # @schema
    mountTmpVolume: false

  # @schema
  # type: object
  # description: Default image settings for all gateway components
  # @schema
  image:
    # @schema
    # type: string
    # description: Default registry for gateway images
    # default: cr.kgateway.dev/kgateway-dev
    # @schema
    registry: cr.kgateway.dev/kgateway-dev

    # @schema
    # type: string
    # description: Default image tag (defaults to chart appVersion)
    # default: ""
    # @schema
    tag: ""

    # @schema
    # description: Default image pull policy
    # enum: [Always, IfNotPresent, Never]
    # default: IfNotPresent
    # @schema
    pullPolicy: IfNotPresent  
# @schema
# type: object
# additionalProperties: true
# description: KGateway CRDs subchart configuration (Helm dependency)
# @schema
kgateway-crds: {}
