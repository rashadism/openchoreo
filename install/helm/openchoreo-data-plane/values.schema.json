{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "additionalProperties": false,
  "properties": {
    "api-platform": {
      "additionalProperties": true,
      "description": "WSO2 API Platform configuration for advanced API management capabilities",
      "properties": {
        "enabled": {
          "default": false,
          "description": "Enable WSO2 API Platform gateway operator",
          "title": "enabled",
          "type": "boolean"
        },
        "gateway": {
          "additionalProperties": true,
          "description": "Gateway configuration for API Platform",
          "properties": {
            "configRefName": {
              "default": "api-platform-default-gateway-values",
              "description": "Name of the ConfigMap referenced by the Gateway configRef",
              "title": "configRefName",
              "type": "string"
            },
            "helm": {
              "additionalProperties": true,
              "description": "Helm chart reference for gateway sub-chart",
              "properties": {
                "chartName": {
                  "default": "oci://ghcr.io/wso2/api-platform/helm-charts/gateway",
                  "description": "OCI chart reference for the API Platform gateway",
                  "title": "chartName",
                  "type": "string"
                },
                "chartVersion": {
                  "default": "0.3.0",
                  "description": "Version of the API Platform gateway chart",
                  "title": "chartVersion",
                  "type": "string"
                }
              },
              "required": [],
              "title": "helm",
              "type": "object"
            }
          },
          "required": [],
          "title": "gateway",
          "type": "object"
        }
      },
      "required": [],
      "title": "api-platform",
      "type": "object"
    },
    "clusterAgent": {
      "additionalProperties": true,
      "description": "Cluster Agent configuration for WebSocket connection to control plane cluster gateway",
      "properties": {
        "affinity": {
          "additionalProperties": false,
          "default": {},
          "description": "Affinity rules for pod scheduling",
          "required": [],
          "title": "affinity",
          "type": "object"
        },
        "dnsRewrite": {
          "additionalProperties": false,
          "description": "DNS rewrite configuration for multi-cluster k3d setups",
          "properties": {
            "enabled": {
              "default": false,
              "description": "Enable CoreDNS rewrite of *.openchoreo.localhost to host.k3d.internal",
              "title": "enabled",
              "type": "boolean"
            }
          },
          "required": [],
          "title": "dnsRewrite",
          "type": "object"
        },
        "enabled": {
          "default": true,
          "description": "Enable the cluster agent deployment",
          "title": "enabled",
          "type": "boolean"
        },
        "heartbeatInterval": {
          "default": "30s",
          "description": "Interval between heartbeat messages to control plane",
          "title": "heartbeatInterval",
          "type": "string"
        },
        "image": {
          "additionalProperties": false,
          "description": "Container image configuration for cluster agent",
          "properties": {
            "pullPolicy": {
              "default": "IfNotPresent",
              "description": "Image pull policy",
              "enum": [
                "Always",
                "IfNotPresent",
                "Never"
              ],
              "required": [],
              "title": "pullPolicy"
            },
            "repository": {
              "default": "ghcr.io/openchoreo/cluster-agent",
              "description": "Cluster agent image repository",
              "title": "repository",
              "type": "string"
            },
            "tag": {
              "default": "",
              "description": "Image tag. Empty uses Chart.AppVersion.",
              "title": "tag",
              "type": "string"
            }
          },
          "required": [],
          "title": "image",
          "type": "object"
        },
        "logLevel": {
          "default": "info",
          "description": "Log level for cluster agent",
          "enum": [
            "trace",
            "debug",
            "info",
            "warn",
            "error"
          ],
          "required": [],
          "title": "logLevel"
        },
        "name": {
          "default": "cluster-agent-dataplane",
          "description": "Name of the cluster agent deployment",
          "title": "name",
          "type": "string"
        },
        "nodeSelector": {
          "additionalProperties": {
            "type": "string"
          },
          "default": {},
          "description": "Node selector for pod scheduling",
          "required": [],
          "title": "nodeSelector",
          "type": "object"
        },
        "planeID": {
          "default": "default-dataplane",
          "description": "Logical plane identifier shared across multiple CRs connecting to the same physical plane. Defaults to Helm release name if not specified.",
          "title": "planeID",
          "type": "string"
        },
        "planeType": {
          "default": "dataplane",
          "description": "Type of plane this agent manages",
          "enum": [
            "dataplane",
            "buildplane",
            "observabilityplane"
          ],
          "required": [],
          "title": "planeType"
        },
        "podAnnotations": {
          "additionalProperties": {
            "type": "string"
          },
          "default": {},
          "description": "Annotations to add to cluster agent pods",
          "required": [],
          "title": "podAnnotations",
          "type": "object"
        },
        "podDisruptionBudget": {
          "additionalProperties": false,
          "description": "Pod Disruption Budget configuration for cluster agent",
          "properties": {
            "enabled": {
              "default": false,
              "description": "Enable PodDisruptionBudget for cluster agent",
              "title": "enabled",
              "type": "boolean"
            },
            "maxUnavailable": {
              "default": "null",
              "description": "Maximum number of pods that can be unavailable",
              "minimum": 0,
              "required": [],
              "title": "maxUnavailable",
              "type": [
                "integer",
                "null"
              ]
            },
            "minAvailable": {
              "default": 1,
              "description": "Minimum number of pods that must be available",
              "minimum": 0,
              "title": "minAvailable",
              "type": "integer"
            }
          },
          "required": [],
          "title": "podDisruptionBudget",
          "type": "object"
        },
        "podSecurityContext": {
          "additionalProperties": false,
          "description": "Pod-level security context",
          "properties": {
            "fsGroup": {
              "default": 1000,
              "description": "Group ID for volume mounts",
              "title": "fsGroup",
              "type": "integer"
            },
            "runAsNonRoot": {
              "default": true,
              "description": "Run container as non-root user",
              "title": "runAsNonRoot",
              "type": "boolean"
            },
            "runAsUser": {
              "default": 1000,
              "description": "User ID to run container as",
              "title": "runAsUser",
              "type": "integer"
            }
          },
          "required": [],
          "title": "podSecurityContext",
          "type": "object"
        },
        "priorityClass": {
          "additionalProperties": false,
          "description": "Priority class configuration for cluster agent pods",
          "properties": {
            "create": {
              "default": false,
              "description": "Create a PriorityClass for cluster agent",
              "title": "create",
              "type": "boolean"
            },
            "name": {
              "default": "cluster-agent-dataplane",
              "description": "PriorityClass name",
              "title": "name",
              "type": "string"
            },
            "value": {
              "default": 900000,
              "description": "Priority value (higher = more important)",
              "title": "value",
              "type": "integer"
            }
          },
          "required": [],
          "title": "priorityClass",
          "type": "object"
        },
        "rbac": {
          "additionalProperties": false,
          "description": "RBAC configuration for cluster agent",
          "properties": {
            "create": {
              "default": true,
              "description": "Create RBAC resources (ClusterRole, ClusterRoleBinding)",
              "title": "create",
              "type": "boolean"
            }
          },
          "required": [],
          "title": "rbac",
          "type": "object"
        },
        "reconnectDelay": {
          "default": "5s",
          "description": "Delay before attempting reconnection after disconnect",
          "title": "reconnectDelay",
          "type": "string"
        },
        "replicas": {
          "default": 1,
          "description": "Number of cluster agent replicas (typically 1 per data plane)",
          "minimum": 0,
          "title": "replicas",
          "type": "integer"
        },
        "resources": {
          "additionalProperties": false,
          "description": "Resource limits and requests for cluster agent",
          "properties": {
            "limits": {
              "additionalProperties": false,
              "description": "Maximum resources the agent can consume",
              "properties": {
                "cpu": {
                  "default": "100m",
                  "description": "CPU limit for the agent",
                  "title": "cpu",
                  "type": "string"
                },
                "memory": {
                  "default": "256Mi",
                  "description": "Memory limit for the agent",
                  "title": "memory",
                  "type": "string"
                }
              },
              "required": [],
              "title": "limits",
              "type": "object"
            },
            "requests": {
              "additionalProperties": false,
              "description": "Minimum resources guaranteed for the agent",
              "properties": {
                "cpu": {
                  "default": "50m",
                  "description": "CPU request for the agent",
                  "title": "cpu",
                  "type": "string"
                },
                "memory": {
                  "default": "128Mi",
                  "description": "Memory request for the agent",
                  "title": "memory",
                  "type": "string"
                }
              },
              "required": [],
              "title": "requests",
              "type": "object"
            }
          },
          "required": [],
          "title": "resources",
          "type": "object"
        },
        "securityContext": {
          "additionalProperties": false,
          "description": "Container-level security context",
          "properties": {
            "allowPrivilegeEscalation": {
              "default": false,
              "description": "Prevent privilege escalation",
              "title": "allowPrivilegeEscalation",
              "type": "boolean"
            },
            "capabilities": {
              "additionalProperties": false,
              "description": "Linux capabilities configuration",
              "properties": {
                "drop": {
                  "default": [
                    "ALL"
                  ],
                  "description": "Capabilities to drop from container",
                  "items": {
                    "type": "string"
                  },
                  "title": "drop",
                  "type": "array"
                }
              },
              "required": [],
              "title": "capabilities",
              "type": "object"
            },
            "readOnlyRootFilesystem": {
              "default": true,
              "description": "Mount root filesystem as read-only",
              "title": "readOnlyRootFilesystem",
              "type": "boolean"
            }
          },
          "required": [],
          "title": "securityContext",
          "type": "object"
        },
        "serverCANamespace": {
          "default": "openchoreo-control-plane",
          "description": "Namespace where cluster-gateway CA exists (control plane namespace)",
          "title": "serverCANamespace",
          "type": "string"
        },
        "serverUrl": {
          "default": "wss://cluster-gateway.openchoreo-control-plane.svc.cluster.local:8443/ws",
          "description": "WebSocket URL of the cluster gateway in control plane",
          "title": "serverUrl",
          "type": "string"
        },
        "serviceAccount": {
          "additionalProperties": false,
          "description": "Service account configuration for cluster agent",
          "properties": {
            "annotations": {
              "additionalProperties": {
                "type": "string"
              },
              "default": {},
              "description": "Annotations to add to the service account",
              "required": [],
              "title": "annotations",
              "type": "object"
            },
            "create": {
              "default": true,
              "description": "Create a service account for the cluster agent",
              "title": "create",
              "type": "boolean"
            },
            "name": {
              "default": "cluster-agent-dataplane",
              "description": "Service account name",
              "title": "name",
              "type": "string"
            }
          },
          "required": [],
          "title": "serviceAccount",
          "type": "object"
        },
        "tls": {
          "additionalProperties": false,
          "description": "TLS configuration for secure agent-gateway communication",
          "properties": {
            "caSecretName": {
              "default": "cluster-gateway-ca",
              "description": "CA secret name for signing agent client certificates. If empty, self-signed certs will be generated (required for multi-cluster setup).",
              "title": "caSecretName",
              "type": "string"
            },
            "caSecretNamespace": {
              "default": "openchoreo-control-plane",
              "description": "Namespace where the CA secret exists. If empty, self-signed certs will be generated (required for multi-cluster setup).",
              "title": "caSecretNamespace",
              "type": "string"
            },
            "caValue": {
              "default": "",
              "description": "Inline CA certificate in PEM format (for multi-cluster setup). Takes precedence over caSecretName/caSecretNamespace.",
              "title": "caValue",
              "type": "string"
            },
            "clientSecretName": {
              "default": "cluster-agent-tls",
              "description": "Secret name for client certificate (typically same as secretName)",
              "title": "clientSecretName",
              "type": "string"
            },
            "duration": {
              "default": "2160h",
              "description": "Certificate validity duration",
              "title": "duration",
              "type": "string"
            },
            "enabled": {
              "default": true,
              "description": "Enable TLS for agent-gateway communication",
              "title": "enabled",
              "type": "boolean"
            },
            "generateCerts": {
              "default": false,
              "description": "Generate client certificates locally using cert-manager (for multi-cluster setups where data plane is in different cluster)",
              "title": "generateCerts",
              "type": "boolean"
            },
            "renewBefore": {
              "default": "360h",
              "description": "Time before expiry to renew certificate",
              "title": "renewBefore",
              "type": "string"
            },
            "secretName": {
              "default": "cluster-agent-tls",
              "description": "Secret name for client certificate and key",
              "title": "secretName",
              "type": "string"
            },
            "serverCAConfigMap": {
              "default": "cluster-gateway-ca",
              "description": "ConfigMap name containing server CA certificate for verifying gateway",
              "title": "serverCAConfigMap",
              "type": "string"
            },
            "serverCAValue": {
              "default": "",
              "description": "Inline server CA certificate in PEM format (for multi-cluster setup). Takes precedence over copying from control plane.",
              "title": "serverCAValue",
              "type": "string"
            }
          },
          "required": [],
          "title": "tls",
          "type": "object"
        },
        "tolerations": {
          "default": [],
          "description": "Tolerations for pod scheduling",
          "items": {
            "properties": {
              "effect": {
                "enum": [
                  "NoSchedule",
                  "PreferNoSchedule",
                  "NoExecute"
                ],
                "required": []
              },
              "key": {
                "type": "string"
              },
              "operator": {
                "enum": [
                  "Exists",
                  "Equal"
                ],
                "required": []
              },
              "value": {
                "type": "string"
              }
            },
            "required": [],
            "type": "object"
          },
          "title": "tolerations",
          "type": "array"
        }
      },
      "required": [],
      "title": "clusterAgent",
      "type": "object"
    },
    "fakeSecretStore": {
      "additionalProperties": true,
      "description": "Fake Secret Store for development and testing. Replace with a real ClusterSecretStore in production.",
      "properties": {
        "enabled": {
          "default": true,
          "description": "Enable the fake secret store (development only - disable in production)",
          "title": "enabled",
          "type": "boolean"
        },
        "name": {
          "default": "default",
          "description": "Name of the fake ClusterSecretStore resource",
          "title": "name",
          "type": "string"
        },
        "secrets": {
          "description": "List of fake secrets for development testing",
          "items": {
            "properties": {
              "key": {
                "description": "Secret key name",
                "type": "string"
              },
              "value": {
                "description": "Secret value (for development only)",
                "type": "string"
              }
            },
            "required": [],
            "type": "object"
          },
          "title": "secrets",
          "type": "array"
        }
      },
      "required": [],
      "title": "fakeSecretStore",
      "type": "object"
    },
    "fluent-bit": {
      "additionalProperties": true,
      "description": "Fluent Bit subchart configuration for log collection and forwarding to OpenSearch",
      "properties": {
        "config": {
          "additionalProperties": true,
          "description": "Fluent Bit pipeline configuration (parsers, inputs, filters, outputs)",
          "properties": {
            "customParsers": {
              "default": "[PARSER]\n    Name docker_no_time\n    Format json\n    Time_Keep Off\n    Time_Key time\n    Time_Format %Y-%m-%dT%H:%M:%S.%L\n",
              "description": "Custom parser definitions in Fluent Bit configuration format",
              "title": "customParsers",
              "type": "string"
            },
            "filters": {
              "default": "[FILTER]\n    Name kubernetes\n    Buffer_Size 32MB\n    K8S-Logging.Parser On\n    K8S-Logging.Exclude On\n    Keep_Log On\n    Match kube.*\n    Merge_Log Off\n    tls.verify Off\n    Use_Kubelet true\n",
              "description": "Filter plugin configuration for log processing",
              "title": "filters",
              "type": "string"
            },
            "inputs": {
              "default": "[INPUT]\n    Name tail\n    Buffer_Chunk_Size 32KB\n    Buffer_Max_Size 2MB\n    DB /var/lib/fluent-bit/db/tail-container-logs.db\n    Exclude_Path /var/log/containers/fluent-bit-*_openchoreo-data-plane_*.log\n    Inotify_Watcher false\n    Mem_Buf_Limit 256MB\n    Path /var/log/containers/*.log\n    multiline.parser docker, cri\n    Read_from_Head On\n    Refresh_Interval 5\n    Skip_Long_Lines On\n    Tag kube.*\n",
              "description": "Input plugin configuration for log collection",
              "title": "inputs",
              "type": "string"
            },
            "outputs": {
              "default": "[OUTPUT]\n    Name opensearch\n    Host opensearch\n    Generate_ID On\n    HTTP_Passwd ThisIsTheOpenSearchPassword1\n    HTTP_User admin\n    Logstash_Format On\n    Logstash_DateFormat %Y-%m-%d\n    Logstash_Prefix container-logs\n    Match kube.*\n    Port 9200\n    Suppress_Type_Name On\n    tls On\n    tls.verify Off\n",
              "description": "Output plugin configuration for log forwarding to OpenSearch",
              "title": "outputs",
              "type": "string"
            }
          },
          "required": [],
          "title": "config",
          "type": "object"
        },
        "dnsPolicy": {
          "default": "ClusterFirstWithHostNet",
          "description": "DNS policy for Fluent Bit pods",
          "enum": [
            "ClusterFirst",
            "ClusterFirstWithHostNet",
            "Default",
            "None"
          ],
          "required": [],
          "title": "dnsPolicy"
        },
        "enabled": {
          "default": false,
          "description": "Enable Fluent Bit log collector deployment",
          "title": "enabled",
          "type": "boolean"
        },
        "extraVolumeMounts": {
          "description": "Extra volume mounts for the Fluent Bit container",
          "items": {
            "required": [],
            "type": "object"
          },
          "title": "extraVolumeMounts",
          "type": "array"
        },
        "extraVolumes": {
          "description": "Extra volumes for the Fluent Bit pod",
          "items": {
            "required": [],
            "type": "object"
          },
          "title": "extraVolumes",
          "type": "array"
        },
        "fullnameOverride": {
          "default": "fluent-bit",
          "description": "Override the full name of Fluent Bit resources",
          "title": "fullnameOverride",
          "type": "string"
        },
        "hostNetwork": {
          "default": true,
          "description": "Use host network for Fluent Bit pods (required for node log access)",
          "title": "hostNetwork",
          "type": "boolean"
        },
        "initContainers": {
          "description": "Init containers for the Fluent Bit pod (used to set volume ownership)",
          "items": {
            "required": [],
            "type": "object"
          },
          "title": "initContainers",
          "type": "array"
        },
        "metricsPort": {
          "default": 2021,
          "description": "Port for Fluent Bit metrics endpoint",
          "maximum": 65535,
          "minimum": 1,
          "title": "metricsPort",
          "type": "integer"
        },
        "rbac": {
          "additionalProperties": true,
          "description": "RBAC configuration for Fluent Bit",
          "properties": {
            "nodeAccess": {
              "default": true,
              "description": "Enable node-level access for reading container logs",
              "title": "nodeAccess",
              "type": "boolean"
            }
          },
          "required": [],
          "title": "rbac",
          "type": "object"
        },
        "resources": {
          "additionalProperties": true,
          "description": "Resource requests and limits for Fluent Bit",
          "properties": {
            "limits": {
              "additionalProperties": true,
              "description": "Maximum resources the container can use",
              "properties": {
                "cpu": {
                  "default": "200m",
                  "description": "CPU limit for Fluent Bit",
                  "title": "cpu",
                  "type": "string"
                },
                "memory": {
                  "default": "256Mi",
                  "description": "Memory limit for Fluent Bit",
                  "title": "memory",
                  "type": "string"
                }
              },
              "required": [],
              "title": "limits",
              "type": "object"
            },
            "requests": {
              "additionalProperties": true,
              "description": "Minimum resources guaranteed to the container",
              "properties": {
                "cpu": {
                  "default": "100m",
                  "description": "CPU request for Fluent Bit",
                  "title": "cpu",
                  "type": "string"
                },
                "memory": {
                  "default": "128Mi",
                  "description": "Memory request for Fluent Bit",
                  "title": "memory",
                  "type": "string"
                }
              },
              "required": [],
              "title": "requests",
              "type": "object"
            }
          },
          "required": [],
          "title": "resources",
          "type": "object"
        },
        "securityContext": {
          "additionalProperties": true,
          "description": "Security context for the Fluent Bit container",
          "properties": {
            "allowPrivilegeEscalation": {
              "default": false,
              "description": "Prevent privilege escalation",
              "title": "allowPrivilegeEscalation",
              "type": "boolean"
            },
            "capabilities": {
              "additionalProperties": true,
              "description": "Linux capabilities configuration",
              "properties": {
                "drop": {
                  "description": "Capabilities to drop",
                  "items": {
                    "type": "string"
                  },
                  "title": "drop",
                  "type": "array"
                }
              },
              "required": [],
              "title": "capabilities",
              "type": "object"
            },
            "readOnlyRootFilesystem": {
              "default": true,
              "description": "Mount root filesystem as read-only",
              "title": "readOnlyRootFilesystem",
              "type": "boolean"
            },
            "runAsNonRoot": {
              "default": true,
              "description": "Run container as non-root user",
              "title": "runAsNonRoot",
              "type": "boolean"
            },
            "runAsUser": {
              "default": 10000,
              "description": "User ID to run the container",
              "minimum": 0,
              "title": "runAsUser",
              "type": "integer"
            }
          },
          "required": [],
          "title": "securityContext",
          "type": "object"
        },
        "service": {
          "additionalProperties": true,
          "description": "Service configuration for Fluent Bit",
          "properties": {
            "port": {
              "default": 2021,
              "description": "Service port for Fluent Bit metrics",
              "maximum": 65535,
              "minimum": 1,
              "title": "port",
              "type": "integer"
            }
          },
          "required": [],
          "title": "service",
          "type": "object"
        },
        "testFramework": {
          "additionalProperties": true,
          "description": "Test framework configuration",
          "properties": {
            "enabled": {
              "default": false,
              "description": "Enable Fluent Bit test framework",
              "title": "enabled",
              "type": "boolean"
            }
          },
          "required": [],
          "title": "testFramework",
          "type": "object"
        }
      },
      "required": [],
      "title": "fluent-bit",
      "type": "object"
    },
    "gateway": {
      "additionalProperties": true,
      "description": "KGateway API gateway configuration. Provides HTTP/HTTPS traffic routing using Kubernetes Gateway API and Envoy proxy.",
      "properties": {
        "agentgateway": {
          "additionalProperties": true,
          "description": "Agent Gateway configuration for MCP server and REST API connectivity",
          "properties": {
            "enabled": {
              "default": false,
              "description": "Enable Agent Gateway for AI agent connectivity",
              "title": "enabled",
              "type": "boolean"
            }
          },
          "required": [],
          "title": "agentgateway",
          "type": "object"
        },
        "controller": {
          "additionalProperties": true,
          "description": "KGateway controller configuration for managing Gateway API resources",
          "properties": {
            "image": {
              "additionalProperties": true,
              "description": "Container image configuration for the gateway controller",
              "properties": {
                "pullPolicy": {
                  "default": "IfNotPresent",
                  "description": "Image pull policy for the controller container",
                  "enum": [
                    "Always",
                    "IfNotPresent",
                    "Never"
                  ],
                  "required": [],
                  "title": "pullPolicy"
                },
                "registry": {
                  "default": "",
                  "description": "Container registry for the controller image. Empty uses default registry.",
                  "title": "registry",
                  "type": "string"
                },
                "repository": {
                  "default": "kgateway",
                  "description": "Image repository name for the gateway controller",
                  "title": "repository",
                  "type": "string"
                },
                "tag": {
                  "default": "",
                  "description": "Image tag. Empty uses Chart.AppVersion.",
                  "title": "tag",
                  "type": "string"
                }
              },
              "required": [],
              "title": "image",
              "type": "object"
            },
            "logLevel": {
              "default": "info",
              "description": "Log level for the gateway controller",
              "enum": [
                "trace",
                "debug",
                "info",
                "warn",
                "error"
              ],
              "required": [],
              "title": "logLevel"
            },
            "replicaCount": {
              "default": 1,
              "description": "Number of gateway controller replicas",
              "minimum": 1,
              "title": "replicaCount",
              "type": "integer"
            },
            "resources": {
              "additionalProperties": true,
              "description": "Resource limits and requests for the gateway controller",
              "properties": {
                "limits": {
                  "additionalProperties": true,
                  "description": "Maximum resources the controller can consume",
                  "properties": {
                    "cpu": {
                      "default": "200m",
                      "description": "CPU limit for the controller",
                      "title": "cpu",
                      "type": "string"
                    },
                    "memory": {
                      "default": "256Mi",
                      "description": "Memory limit for the controller",
                      "title": "memory",
                      "type": "string"
                    }
                  },
                  "required": [],
                  "title": "limits",
                  "type": "object"
                },
                "requests": {
                  "additionalProperties": true,
                  "description": "Minimum resources guaranteed for the controller",
                  "properties": {
                    "cpu": {
                      "default": "100m",
                      "description": "CPU request for the controller",
                      "title": "cpu",
                      "type": "string"
                    },
                    "memory": {
                      "default": "128Mi",
                      "description": "Memory request for the controller",
                      "title": "memory",
                      "type": "string"
                    }
                  },
                  "required": [],
                  "title": "requests",
                  "type": "object"
                }
              },
              "required": [],
              "title": "resources",
              "type": "object"
            },
            "service": {
              "additionalProperties": true,
              "description": "Kubernetes service configuration for the gateway controller",
              "properties": {
                "ports": {
                  "additionalProperties": true,
                  "description": "Service port mappings for the gateway controller",
                  "properties": {
                    "agwGrpc": {
                      "default": 9978,
                      "description": "Agent gateway gRPC port",
                      "title": "agwGrpc",
                      "type": "integer"
                    },
                    "grpc": {
                      "default": 9977,
                      "description": "gRPC port for xDS communication",
                      "title": "grpc",
                      "type": "integer"
                    },
                    "health": {
                      "default": 9093,
                      "description": "Health check endpoint port",
                      "title": "health",
                      "type": "integer"
                    },
                    "metrics": {
                      "default": 9092,
                      "description": "Metrics endpoint port",
                      "title": "metrics",
                      "type": "integer"
                    }
                  },
                  "required": [],
                  "title": "ports",
                  "type": "object"
                },
                "type": {
                  "default": "ClusterIP",
                  "description": "Service type for the gateway controller",
                  "enum": [
                    "ClusterIP",
                    "NodePort",
                    "LoadBalancer"
                  ],
                  "required": [],
                  "title": "type"
                }
              },
              "required": [],
              "title": "service",
              "type": "object"
            }
          },
          "required": [],
          "title": "controller",
          "type": "object"
        },
        "enabled": {
          "default": true,
          "description": "Enable Gateway CR creation",
          "title": "enabled",
          "type": "boolean"
        },
        "envoy": {
          "additionalProperties": true,
          "description": "Envoy proxy configuration for actual traffic routing",
          "properties": {
            "enabled": {
              "default": true,
              "description": "Enable Envoy proxy for traffic routing",
              "title": "enabled",
              "type": "boolean"
            },
            "mountTmpVolume": {
              "default": false,
              "description": "Mount /tmp as emptyDir volume to fix Envoy temporary file creation issues on macOS with Docker Desktop/Colima",
              "title": "mountTmpVolume",
              "type": "boolean"
            }
          },
          "required": [],
          "title": "envoy",
          "type": "object"
        },
        "gatewayClassName": {
          "default": "kgateway",
          "description": "GatewayClass name to reference in the Gateway CR",
          "title": "gatewayClassName",
          "type": "string"
        },
        "httpPort": {
          "default": 9080,
          "description": "Port for the HTTP listener on the gateway",
          "maximum": 65535,
          "minimum": 1,
          "title": "httpPort",
          "type": "integer"
        },
        "httpsPort": {
          "default": 9443,
          "description": "Port for the HTTPS listener on the gateway",
          "maximum": 65535,
          "minimum": 1,
          "title": "httpsPort",
          "type": "integer"
        },
        "image": {
          "additionalProperties": true,
          "description": "Default container image configuration for gateway components",
          "properties": {
            "pullPolicy": {
              "default": "IfNotPresent",
              "description": "Image pull policy for gateway containers",
              "enum": [
                "Always",
                "IfNotPresent",
                "Never"
              ],
              "required": [],
              "title": "pullPolicy"
            },
            "registry": {
              "default": "cr.kgateway.dev/kgateway-dev",
              "description": "Container registry for gateway images",
              "title": "registry",
              "type": "string"
            },
            "tag": {
              "default": "",
              "description": "Image tag. Empty uses Chart.AppVersion.",
              "title": "tag",
              "type": "string"
            }
          },
          "required": [],
          "title": "image",
          "type": "object"
        },
        "infrastructure": {
          "additionalProperties": true,
          "description": "Gateway infrastructure configuration passed to the generated Service.\nUsed to configure cloud provider load balancer settings via annotations.\nExample for AWS with Elastic IP:\n  infrastructure:\n    annotations:\n      service.beta.kubernetes.io/aws-load-balancer-type: \"external\"\n      service.beta.kubernetes.io/aws-load-balancer-nlb-target-type: \"ip\"\n      service.beta.kubernetes.io/aws-load-balancer-scheme: \"internet-facing\"\n      service.beta.kubernetes.io/aws-load-balancer-eip-allocations: \"eipalloc-xxx\"",
          "required": [],
          "title": "infrastructure",
          "type": "object"
        },
        "selfSignedIssuer": {
          "additionalProperties": false,
          "description": "Self-signed ClusterIssuer configuration",
          "properties": {
            "enabled": {
              "default": true,
              "description": "Create self-signed ClusterIssuer (set to false in single cluster mode)",
              "title": "enabled",
              "type": "boolean"
            }
          },
          "required": [],
          "title": "selfSignedIssuer",
          "type": "object"
        },
        "tls": {
          "additionalProperties": true,
          "description": "TLS configuration for HTTPS listeners. Requires cert-manager for automatic certificate generation.",
          "properties": {
            "certName": {
              "default": "openchoreo-gateway-tls",
              "description": "Kubernetes Secret name for storing the TLS certificate",
              "title": "certName",
              "type": "string"
            },
            "clusterIssuer": {
              "default": "",
              "description": "Cert-manager ClusterIssuer name for certificate generation. Defaults to openchoreo-selfsigned-issuer if empty.",
              "title": "clusterIssuer",
              "type": "string"
            },
            "hostname": {
              "default": "*.openchoreoapis.localhost",
              "description": "Hostname pattern for the HTTPS listener certificate",
              "title": "hostname",
              "type": "string"
            }
          },
          "required": [],
          "title": "tls",
          "type": "object"
        }
      },
      "required": [],
      "title": "gateway",
      "type": "object"
    },
    "gatewayController": {
      "additionalProperties": true,
      "description": "KGateway controller configuration",
      "properties": {
        "enabled": {
          "default": true,
          "description": "Enable kgateway controller installation (set to false in single cluster mode for data-plane)",
          "title": "enabled",
          "type": "boolean"
        }
      },
      "required": [],
      "title": "gatewayController",
      "type": "object"
    },
    "global": {
      "additionalProperties": false,
      "description": "Global values shared across all components in the data plane",
      "properties": {
        "commonLabels": {
          "additionalProperties": {
            "type": "string"
          },
          "default": {},
          "description": "Common labels applied to all resources deployed by this chart",
          "required": [],
          "title": "commonLabels",
          "type": "object"
        }
      },
      "required": [],
      "title": "global",
      "type": "object"
    },
    "kgateway-crds": {
      "additionalProperties": true,
      "description": "KGateway CRDs subchart configuration (values passed through to kgateway-crds)",
      "required": [],
      "title": "kgateway-crds",
      "type": "object"
    },
    "kube-prometheus-stack": {
      "additionalProperties": true,
      "description": "Prometheus stack configuration (kube-prometheus-stack sub-chart). Provides metrics collection for workload observability.",
      "properties": {
        "alertmanager": {
          "additionalProperties": true,
          "description": "Alertmanager configuration for alert routing and notifications",
          "properties": {
            "enabled": {
              "default": false,
              "description": "Enable Alertmanager for alert management (not used by OpenChoreo)",
              "title": "enabled",
              "type": "boolean"
            }
          },
          "required": [],
          "title": "alertmanager",
          "type": "object"
        },
        "cleanPrometheusOperatorObjectNames": {
          "default": true,
          "description": "Produce cleaner resource names without redundant prefixes",
          "title": "cleanPrometheusOperatorObjectNames",
          "type": "boolean"
        },
        "coreDns": {
          "additionalProperties": true,
          "description": "CoreDNS monitoring (disabled for OpenChoreo)",
          "properties": {
            "enabled": {
              "default": false,
              "description": "Enable CoreDNS metrics collection",
              "title": "enabled",
              "type": "boolean"
            }
          },
          "required": [],
          "title": "coreDns",
          "type": "object"
        },
        "crds": {
          "additionalProperties": true,
          "description": "Prometheus Operator CRD installation configuration",
          "properties": {
            "enabled": {
              "default": true,
              "description": "Install Prometheus Operator CRDs (ServiceMonitor, PodMonitor, etc.)",
              "title": "enabled",
              "type": "boolean"
            }
          },
          "required": [],
          "title": "crds",
          "type": "object"
        },
        "defaultRules": {
          "additionalProperties": true,
          "description": "Default Prometheus alerting rules configuration",
          "properties": {
            "create": {
              "default": false,
              "description": "Create default alerting rules (disabled - OpenChoreo uses custom rules)",
              "title": "create",
              "type": "boolean"
            }
          },
          "required": [],
          "title": "defaultRules",
          "type": "object"
        },
        "enabled": {
          "default": false,
          "description": "Enable the Prometheus monitoring stack for metrics collection",
          "title": "enabled",
          "type": "boolean"
        },
        "fullnameOverride": {
          "default": "openchoreo-observability",
          "description": "Override the full name of Prometheus stack resources",
          "title": "fullnameOverride",
          "type": "string"
        },
        "grafana": {
          "additionalProperties": true,
          "description": "Grafana configuration for metrics visualization",
          "properties": {
            "enabled": {
              "default": false,
              "description": "Enable Grafana dashboards (not used by OpenChoreo - use observability plane instead)",
              "title": "enabled",
              "type": "boolean"
            }
          },
          "required": [],
          "title": "grafana",
          "type": "object"
        },
        "kube-state-metrics": {
          "additionalProperties": true,
          "description": "Kube-state-metrics configuration for Kubernetes object metrics",
          "properties": {
            "collectors": {
              "default": [
                "pods"
              ],
              "description": "Kubernetes resource types to collect metrics from",
              "items": {
                "type": "string"
              },
              "title": "collectors",
              "type": "array"
            },
            "fullnameOverride": {
              "default": "kube-state-metrics",
              "description": "Override the full name of kube-state-metrics resources",
              "title": "fullnameOverride",
              "type": "string"
            },
            "metricAllowlist": {
              "description": "Specific metrics to collect (allowlist filter)",
              "items": {
                "type": "string"
              },
              "title": "metricAllowlist",
              "type": "array"
            },
            "metricLabelsAllowlist": {
              "description": "Pod labels to include in metrics for filtering by OpenChoreo resources",
              "items": {
                "type": "string"
              },
              "title": "metricLabelsAllowlist",
              "type": "array"
            }
          },
          "required": [],
          "title": "kube-state-metrics",
          "type": "object"
        },
        "kubeApiServer": {
          "additionalProperties": true,
          "description": "Kubernetes API server monitoring (disabled for OpenChoreo)",
          "properties": {
            "enabled": {
              "default": false,
              "description": "Enable API server metrics collection",
              "title": "enabled",
              "type": "boolean"
            }
          },
          "required": [],
          "title": "kubeApiServer",
          "type": "object"
        },
        "kubeControllerManager": {
          "additionalProperties": true,
          "description": "Kubernetes controller manager monitoring (disabled for OpenChoreo)",
          "properties": {
            "enabled": {
              "default": false,
              "description": "Enable controller manager metrics collection",
              "title": "enabled",
              "type": "boolean"
            }
          },
          "required": [],
          "title": "kubeControllerManager",
          "type": "object"
        },
        "kubeEtcd": {
          "additionalProperties": true,
          "description": "etcd monitoring (disabled for OpenChoreo)",
          "properties": {
            "enabled": {
              "default": false,
              "description": "Enable etcd metrics collection",
              "title": "enabled",
              "type": "boolean"
            }
          },
          "required": [],
          "title": "kubeEtcd",
          "type": "object"
        },
        "kubeProxy": {
          "additionalProperties": true,
          "description": "Kube-proxy monitoring (disabled for OpenChoreo)",
          "properties": {
            "enabled": {
              "default": false,
              "description": "Enable kube-proxy metrics collection",
              "title": "enabled",
              "type": "boolean"
            }
          },
          "required": [],
          "title": "kubeProxy",
          "type": "object"
        },
        "kubeScheduler": {
          "additionalProperties": true,
          "description": "Kubernetes scheduler monitoring (disabled for OpenChoreo)",
          "properties": {
            "enabled": {
              "default": false,
              "description": "Enable scheduler metrics collection",
              "title": "enabled",
              "type": "boolean"
            }
          },
          "required": [],
          "title": "kubeScheduler",
          "type": "object"
        },
        "nodeExporter": {
          "additionalProperties": true,
          "description": "Node exporter monitoring (disabled for OpenChoreo)",
          "properties": {
            "enabled": {
              "default": false,
              "description": "Enable node-level metrics collection",
              "title": "enabled",
              "type": "boolean"
            }
          },
          "required": [],
          "title": "nodeExporter",
          "type": "object"
        },
        "prometheus": {
          "additionalProperties": true,
          "description": "Prometheus instance configuration for metrics scraping",
          "properties": {
            "agentMode": {
              "default": true,
              "description": "Run Prometheus in agent mode for lightweight remote-write only operation",
              "title": "agentMode",
              "type": "boolean"
            },
            "enabled": {
              "default": true,
              "description": "Deploy a Prometheus instance (requires Prometheus Operator)",
              "title": "enabled",
              "type": "boolean"
            },
            "prometheusSpec": {
              "additionalProperties": true,
              "description": "Prometheus instance specification",
              "properties": {
                "remoteWrite": {
                  "description": "Remote write endpoints for forwarding metrics to external storage",
                  "items": {
                    "properties": {
                      "url": {
                        "description": "Remote write endpoint URL",
                        "type": "string"
                      }
                    },
                    "required": [],
                    "type": "object"
                  },
                  "title": "remoteWrite",
                  "type": "array"
                }
              },
              "required": [],
              "title": "prometheusSpec",
              "type": "object"
            }
          },
          "required": [],
          "title": "prometheus",
          "type": "object"
        },
        "prometheusOperator": {
          "additionalProperties": true,
          "description": "Prometheus Operator manages Prometheus and Alertmanager components",
          "properties": {
            "enabled": {
              "default": true,
              "description": "Enable Prometheus Operator for managing Prometheus instances",
              "title": "enabled",
              "type": "boolean"
            },
            "fullnameOverride": {
              "default": "prometheus-operator",
              "description": "Override the full name of Prometheus Operator resources",
              "title": "fullnameOverride",
              "type": "string"
            },
            "resources": {
              "additionalProperties": true,
              "description": "Resource limits and requests for Prometheus Operator",
              "properties": {
                "limits": {
                  "additionalProperties": true,
                  "description": "Maximum resources the Prometheus Operator can consume",
                  "properties": {
                    "cpu": {
                      "default": "40m",
                      "description": "CPU limit for Prometheus Operator",
                      "title": "cpu",
                      "type": "string"
                    },
                    "memory": {
                      "default": "50Mi",
                      "description": "Memory limit for Prometheus Operator",
                      "title": "memory",
                      "type": "string"
                    }
                  },
                  "required": [],
                  "title": "limits",
                  "type": "object"
                },
                "requests": {
                  "additionalProperties": true,
                  "description": "Minimum resources guaranteed for Prometheus Operator",
                  "properties": {
                    "cpu": {
                      "default": "20m",
                      "description": "CPU request for Prometheus Operator",
                      "title": "cpu",
                      "type": "string"
                    },
                    "memory": {
                      "default": "30Mi",
                      "description": "Memory request for Prometheus Operator",
                      "title": "memory",
                      "type": "string"
                    }
                  },
                  "required": [],
                  "title": "requests",
                  "type": "object"
                }
              },
              "required": [],
              "title": "resources",
              "type": "object"
            }
          },
          "required": [],
          "title": "prometheusOperator",
          "type": "object"
        }
      },
      "required": [],
      "title": "kube-prometheus-stack",
      "type": "object"
    },
    "kubernetesClusterDomain": {
      "default": "cluster.local",
      "description": "Kubernetes cluster DNS domain used for service discovery and certificate generation",
      "title": "kubernetesClusterDomain",
      "type": "string"
    },
    "networking": {
      "additionalProperties": false,
      "description": "Network configuration for the data plane",
      "properties": {
        "enabled": {
          "default": true,
          "description": "Enable networking features (network policies, service mesh integration)",
          "title": "enabled",
          "type": "boolean"
        }
      },
      "required": [],
      "title": "networking",
      "type": "object"
    },
    "observability": {
      "additionalProperties": false,
      "description": "Observability configuration controlling metrics, logging, and tracing collection",
      "properties": {
        "enabled": {
          "default": true,
          "description": "Master switch for all observability features",
          "title": "enabled",
          "type": "boolean"
        },
        "logging": {
          "additionalProperties": false,
          "description": "Logging configuration for container log collection",
          "properties": {
            "enabled": {
              "default": false,
              "description": "Enable log collection. Set to true after observability plane is installed.",
              "title": "enabled",
              "type": "boolean"
            },
            "publishers": {
              "additionalProperties": false,
              "description": "Log publisher configurations",
              "properties": {
                "fluentbit": {
                  "additionalProperties": false,
                  "description": "Fluent Bit log publisher configuration",
                  "properties": {
                    "enabled": {
                      "default": true,
                      "description": "Enable Fluent Bit as the log publisher",
                      "title": "enabled",
                      "type": "boolean"
                    }
                  },
                  "required": [],
                  "title": "fluentbit",
                  "type": "object"
                }
              },
              "required": [],
              "title": "publishers",
              "type": "object"
            }
          },
          "required": [],
          "title": "logging",
          "type": "object"
        },
        "metrics": {
          "additionalProperties": false,
          "description": "Metrics collection configuration (L7 visibility and ServiceMonitors)",
          "properties": {
            "enabled": {
              "default": false,
              "description": "Enable metrics collection. Set to true after observability plane is installed.",
              "title": "enabled",
              "type": "boolean"
            }
          },
          "required": [],
          "title": "metrics",
          "type": "object"
        },
        "observabilityPlaneUrl": {
          "default": "",
          "description": "URL of the observability plane for sending telemetry data (OTLP endpoint)",
          "title": "observabilityPlaneUrl",
          "type": "string"
        }
      },
      "required": [],
      "title": "observability",
      "type": "object"
    },
    "opentelemetry-collector": {
      "additionalProperties": true,
      "description": "OpenTelemetry Collector configuration for trace and metrics collection",
      "properties": {
        "clusterRole": {
          "additionalProperties": true,
          "description": "ClusterRole configuration for accessing Kubernetes resources",
          "properties": {
            "create": {
              "default": true,
              "description": "Create ClusterRole for OpenTelemetry Collector",
              "title": "create",
              "type": "boolean"
            },
            "rules": {
              "description": "RBAC rules for accessing Kubernetes API resources",
              "items": {
                "properties": {
                  "apiGroups": {
                    "items": {
                      "type": "string"
                    },
                    "type": "array"
                  },
                  "resources": {
                    "items": {
                      "type": "string"
                    },
                    "type": "array"
                  },
                  "verbs": {
                    "items": {
                      "type": "string"
                    },
                    "type": "array"
                  }
                },
                "required": [],
                "type": "object"
              },
              "title": "rules",
              "type": "array"
            }
          },
          "required": [],
          "title": "clusterRole",
          "type": "object"
        },
        "configMap": {
          "additionalProperties": true,
          "description": "ConfigMap configuration for collector pipeline",
          "properties": {
            "create": {
              "default": false,
              "description": "Create a new ConfigMap (false to use existing)",
              "title": "create",
              "type": "boolean"
            },
            "existingName": {
              "default": "opentelemetry-collector-config",
              "description": "Name of existing ConfigMap containing collector configuration",
              "title": "existingName",
              "type": "string"
            }
          },
          "required": [],
          "title": "configMap",
          "type": "object"
        },
        "enabled": {
          "default": false,
          "description": "Enable OpenTelemetry Collector deployment",
          "title": "enabled",
          "type": "boolean"
        },
        "fullnameOverride": {
          "default": "opentelemetry-collector",
          "description": "Override the full name of OpenTelemetry Collector resources",
          "title": "fullnameOverride",
          "type": "string"
        },
        "image": {
          "additionalProperties": true,
          "description": "Container image configuration for OpenTelemetry Collector",
          "properties": {
            "repository": {
              "default": "otel/opentelemetry-collector-contrib",
              "description": "OpenTelemetry Collector image repository (contrib version includes extra receivers/exporters)",
              "title": "repository",
              "type": "string"
            }
          },
          "required": [],
          "title": "image",
          "type": "object"
        },
        "mode": {
          "default": "deployment",
          "description": "Deployment mode for the collector",
          "enum": [
            "deployment",
            "daemonset",
            "statefulset",
            "sidecar"
          ],
          "required": [],
          "title": "mode"
        },
        "resources": {
          "additionalProperties": true,
          "description": "Resource limits and requests for the collector",
          "properties": {
            "limits": {
              "additionalProperties": true,
              "description": "Maximum resources the collector can consume",
              "properties": {
                "cpu": {
                  "default": "100m",
                  "description": "CPU limit for the collector",
                  "title": "cpu",
                  "type": "string"
                },
                "memory": {
                  "default": "200Mi",
                  "description": "Memory limit for the collector",
                  "title": "memory",
                  "type": "string"
                }
              },
              "required": [],
              "title": "limits",
              "type": "object"
            },
            "requests": {
              "additionalProperties": true,
              "description": "Minimum resources guaranteed for the collector",
              "properties": {
                "cpu": {
                  "default": "50m",
                  "description": "CPU request for the collector",
                  "title": "cpu",
                  "type": "string"
                },
                "memory": {
                  "default": "100Mi",
                  "description": "Memory request for the collector",
                  "title": "memory",
                  "type": "string"
                }
              },
              "required": [],
              "title": "requests",
              "type": "object"
            }
          },
          "required": [],
          "title": "resources",
          "type": "object"
        }
      },
      "required": [],
      "title": "opentelemetry-collector",
      "type": "object"
    },
    "registry": {
      "additionalProperties": false,
      "description": "[DEPRECATED] Container registry configuration. Registry has been moved to Build Plane.",
      "properties": {
        "enabled": {
          "default": false,
          "description": "[DEPRECATED] Enable the container registry. Use Build Plane registry instead.",
          "title": "enabled",
          "type": "boolean"
        },
        "resources": {
          "additionalProperties": false,
          "description": "Resource limits and requests for the registry container",
          "properties": {
            "limits": {
              "additionalProperties": false,
              "description": "Maximum resources the registry can consume",
              "properties": {
                "cpu": {
                  "default": "100m",
                  "description": "CPU limit for the registry",
                  "title": "cpu",
                  "type": "string"
                },
                "memory": {
                  "default": "256Mi",
                  "description": "Memory limit for the registry",
                  "title": "memory",
                  "type": "string"
                }
              },
              "required": [],
              "title": "limits",
              "type": "object"
            },
            "requests": {
              "additionalProperties": false,
              "description": "Minimum resources guaranteed for the registry",
              "properties": {
                "cpu": {
                  "default": "50m",
                  "description": "CPU request for the registry",
                  "title": "cpu",
                  "type": "string"
                },
                "memory": {
                  "default": "128Mi",
                  "description": "Memory request for the registry",
                  "title": "memory",
                  "type": "string"
                }
              },
              "required": [],
              "title": "requests",
              "type": "object"
            }
          },
          "required": [],
          "title": "resources",
          "type": "object"
        },
        "service": {
          "additionalProperties": false,
          "description": "Kubernetes service configuration for the registry",
          "properties": {
            "nodePort": {
              "default": 30003,
              "description": "NodePort for external access to the registry",
              "maximum": 32767,
              "minimum": 30000,
              "title": "nodePort",
              "type": "integer"
            }
          },
          "required": [],
          "title": "service",
          "type": "object"
        },
        "storage": {
          "additionalProperties": false,
          "description": "Persistent volume storage configuration for registry data",
          "properties": {
            "size": {
              "default": "2Gi",
              "description": "Size of the persistent volume for storing container images",
              "title": "size",
              "type": "string"
            }
          },
          "required": [],
          "title": "storage",
          "type": "object"
        }
      },
      "required": [],
      "title": "registry",
      "type": "object"
    },
    "security": {
      "additionalProperties": false,
      "description": "Security configuration for the data plane",
      "properties": {
        "enabled": {
          "default": true,
          "description": "Enable security features (certificate issuers, TLS configuration)",
          "title": "enabled",
          "type": "boolean"
        }
      },
      "required": [],
      "title": "security",
      "type": "object"
    },
    "waitJob": {
      "additionalProperties": true,
      "description": "Wait job configuration for post-install Helm hooks that wait for resources",
      "properties": {
        "image": {
          "default": "bitnamilegacy/kubectl:1.32.4",
          "description": "Container image for kubectl-based wait jobs used in Helm hooks",
          "title": "image",
          "type": "string"
        }
      },
      "required": [],
      "title": "waitJob",
      "type": "object"
    }
  },
  "required": [],
  "type": "object"
}
