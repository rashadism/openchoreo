# Default values for openchoreo-observer-rca

global:
  # Common labels to add to all resources
  commonLabels: {}

# Observability plane connection configuration
observability:
  # Observer MCP endpoint (leave empty for auto-discovery)
  observerMcpUrl: ""
  observerPort: 8080

# Control plane connection configuration
controlPlane:
  # Namespace where control plane is installed
  namespace: openchoreo-control-plane

  # OpenChoreo API MCP endpoint (leave empty for auto-discovery)
  openchoreoMcpUrl: ""
  apiPort: 8080

# RCA service configuration
rcaService:
  name: observer-ai-rca
  replicas: 1

  image:
    repository: ghcr.io/openchoreo/observer-ai-rca
    tag: ""
    pullPolicy: IfNotPresent

  service:
    type: ClusterIP
    port: 8080

  resources:
    requests:
      cpu: 100m
      memory: 128Mi
    limits:
      cpu: 500m
      memory: 512Mi

  # LLM Configuration for RCA agent
  llm:
    # API key can be set via: --set rcaService.llm.apiKey="your-key" during helm install/upgrade
    apiKey: ""

    # LLM Provider: openai, anthropic, azureopenai, googlegenai
    provider: ""

    # Model name (provider-specific)
    # Examples:
    #   - Anthropic: claude-sonnet-4-5, claude-3-5-sonnet-20241022
    #   - OpenAI: gpt-5, gpt-4-turbo
    #   - Azure OpenAI: (set via azure.deployment)
    #   - Google: gemini-2.0-flash-exp, gemini-1.5-pro
    modelName: ""

    # Azure OpenAI specific configuration (required when provider is "azureopenai")
    azure:
      # Azure OpenAI endpoint (e.g., https://my-resource.openai.azure.com)
      endpoint: ""

      # Azure OpenAI API version (e.g., 2024-02-15-preview)
      apiVersion: ""

      # Azure OpenAI deployment name
      deployment: ""

    # When enabled, API key is fetched from external secret store instead of direct value
    externalSecret:
      enabled: false

      # Name of the ClusterSecretStore to use
      secretStoreRef: ""

      # Reference to the API key in the external secret store
      apiKeyRef:
        # Key path in the secret store (e.g., "llm/anthropic", "azure/openai/credentials")
        key: ""

        # Optional: Property/field within the secret (e.g., "apiKey")
        property: ""

  openSearchUsername: admin
  openSearchPassword: ThisIsTheOpenSearchPassword1

# Pre-install hook will create its own temporary RBAC for validation
rbac:
  create: false
