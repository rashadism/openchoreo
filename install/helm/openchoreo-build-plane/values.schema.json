{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "additionalProperties": false,
  "properties": {
    "argo-workflows": {
      "additionalProperties": true,
      "description": "Argo Workflows sub-chart configuration. See https://github.com/argoproj/argo-helm/tree/main/charts/argo-workflows for all options.",
      "properties": {
        "controller": {
          "additionalProperties": true,
          "description": "Argo Workflows controller configuration",
          "properties": {
            "resources": {
              "additionalProperties": true,
              "description": "Resource limits and requests for the argo workflows controller",
              "properties": {
                "limits": {
                  "additionalProperties": true,
                  "description": "Maximum resources the controller can consume",
                  "properties": {
                    "cpu": {
                      "default": "50m",
                      "description": "CPU limit for the controller",
                      "required": [],
                      "title": "cpu",
                      "type": "string"
                    },
                    "memory": {
                      "default": "64Mi",
                      "description": "Memory limit for the controller",
                      "required": [],
                      "title": "memory",
                      "type": "string"
                    }
                  },
                  "required": [],
                  "title": "limits",
                  "type": "object"
                },
                "requests": {
                  "additionalProperties": true,
                  "description": "Minimum resources guaranteed for the controller",
                  "properties": {
                    "cpu": {
                      "default": "25m",
                      "description": "CPU request for the controller",
                      "required": [],
                      "title": "cpu",
                      "type": "string"
                    },
                    "memory": {
                      "default": "32Mi",
                      "description": "Memory request for the controller",
                      "required": [],
                      "title": "memory",
                      "type": "string"
                    }
                  },
                  "required": [],
                  "title": "requests",
                  "type": "object"
                }
              },
              "required": [],
              "title": "resources",
              "type": "object"
            }
          },
          "required": [],
          "title": "controller",
          "type": "object"
        },
        "crds": {
          "additionalProperties": true,
          "description": "CRD management configuration",
          "properties": {
            "keep": {
              "default": false,
              "description": "Keep CRDs on chart uninstall",
              "required": [],
              "title": "keep",
              "type": "boolean"
            }
          },
          "required": [],
          "title": "crds",
          "type": "object"
        },
        "fullnameOverride": {
          "default": "argo",
          "description": "Override the full name of Argo Workflows resources",
          "required": [],
          "title": "fullnameOverride",
          "type": "string"
        },
        "server": {
          "additionalProperties": true,
          "description": "Argo Workflows server (UI) configuration",
          "properties": {
            "enabled": {
              "default": false,
              "description": "Enable the Argo Workflows server UI",
              "required": [],
              "title": "enabled",
              "type": "boolean"
            }
          },
          "required": [],
          "title": "server",
          "type": "object"
        },
        "workflow": {
          "additionalProperties": true,
          "description": "Workflow configuration",
          "properties": {
            "serviceAccount": {
              "additionalProperties": true,
              "description": "Service account configuration for workflows",
              "properties": {
                "create": {
                  "default": true,
                  "description": "Create service account for workflows",
                  "required": [],
                  "title": "create",
                  "type": "boolean"
                }
              },
              "required": [],
              "title": "serviceAccount",
              "type": "object"
            }
          },
          "required": [],
          "title": "workflow",
          "type": "object"
        },
        "workflowNamespaces": {
          "description": "Namespaces where Argo Workflows can submit workflows",
          "items": {
            "required": [],
            "type": "string"
          },
          "required": [],
          "title": "workflowNamespaces",
          "type": "array"
        }
      },
      "required": [],
      "title": "argo-workflows",
      "type": "object"
    },
    "clusterAgent": {
      "additionalProperties": true,
      "description": "Cluster Agent configuration for agent-based communication with control plane",
      "properties": {
        "affinity": {
          "additionalProperties": true,
          "description": "Affinity rules for cluster agent pods",
          "required": [],
          "title": "affinity",
          "type": "object"
        },
        "dnsRewrite": {
          "additionalProperties": false,
          "description": "DNS rewrite configuration for multi-cluster k3d setups. Configures CoreDNS to rewrite *.openchoreo.localhost to host.k3d.internal.",
          "properties": {
            "enabled": {
              "default": false,
              "description": "Enable DNS rewrite for k3d setups",
              "required": [],
              "title": "enabled",
              "type": "boolean"
            }
          },
          "required": [],
          "title": "dnsRewrite",
          "type": "object"
        },
        "enabled": {
          "default": true,
          "description": "Enable the cluster agent for control plane communication",
          "required": [],
          "title": "enabled",
          "type": "boolean"
        },
        "heartbeatInterval": {
          "default": "30s",
          "description": "Heartbeat interval for control plane connection",
          "required": [],
          "title": "heartbeatInterval",
          "type": "string"
        },
        "image": {
          "additionalProperties": false,
          "description": "Cluster agent container image configuration",
          "properties": {
            "pullPolicy": {
              "default": "IfNotPresent",
              "description": "Image pull policy",
              "enum": [
                "Always",
                "IfNotPresent",
                "Never"
              ],
              "required": [],
              "title": "pullPolicy"
            },
            "repository": {
              "default": "ghcr.io/openchoreo/cluster-agent",
              "description": "Image repository for cluster agent",
              "required": [],
              "title": "repository",
              "type": "string"
            },
            "tag": {
              "default": "",
              "description": "Image tag. If empty, uses Chart.AppVersion.",
              "required": [],
              "title": "tag",
              "type": "string"
            }
          },
          "required": [],
          "title": "image",
          "type": "object"
        },
        "logLevel": {
          "default": "info",
          "description": "Log level for cluster agent",
          "enum": [
            "debug",
            "info",
            "warn",
            "error"
          ],
          "required": [],
          "title": "logLevel"
        },
        "name": {
          "default": "cluster-agent-buildplane",
          "description": "Name of the cluster agent deployment",
          "required": [],
          "title": "name",
          "type": "string"
        },
        "nodeSelector": {
          "additionalProperties": true,
          "description": "Node selector for cluster agent pods",
          "required": [],
          "title": "nodeSelector",
          "type": "object"
        },
        "planeID": {
          "default": "default-buildplane",
          "description": "Logical plane identifier. Shared across multiple CRs connecting to the same physical plane for multi-tenancy.",
          "required": [],
          "title": "planeID",
          "type": "string"
        },
        "planeType": {
          "default": "buildplane",
          "description": "Type of plane",
          "enum": [
            "dataplane",
            "buildplane",
            "observabilityplane"
          ],
          "required": [],
          "title": "planeType"
        },
        "podAnnotations": {
          "additionalProperties": true,
          "description": "Annotations to add to cluster agent pods",
          "required": [],
          "title": "podAnnotations",
          "type": "object"
        },
        "podSecurityContext": {
          "additionalProperties": true,
          "description": "Pod security context for cluster agent",
          "properties": {
            "fsGroup": {
              "default": 1000,
              "required": [],
              "title": "fsGroup",
              "type": "integer"
            },
            "runAsNonRoot": {
              "default": true,
              "required": [],
              "title": "runAsNonRoot",
              "type": "boolean"
            },
            "runAsUser": {
              "default": 1000,
              "required": [],
              "title": "runAsUser",
              "type": "integer"
            }
          },
          "required": [
            "runAsNonRoot",
            "runAsUser",
            "fsGroup"
          ],
          "title": "podSecurityContext",
          "type": "object"
        },
        "priorityClass": {
          "additionalProperties": false,
          "description": "Priority class configuration for cluster agent pods",
          "properties": {
            "create": {
              "default": false,
              "description": "Create priority class",
              "required": [],
              "title": "create",
              "type": "boolean"
            },
            "name": {
              "default": "cluster-agent-buildplane",
              "description": "Priority class name",
              "required": [],
              "title": "name",
              "type": "string"
            },
            "value": {
              "default": 900000,
              "description": "Priority value",
              "required": [],
              "title": "value",
              "type": "integer"
            }
          },
          "required": [],
          "title": "priorityClass",
          "type": "object"
        },
        "rbac": {
          "additionalProperties": false,
          "description": "RBAC configuration for cluster agent",
          "properties": {
            "create": {
              "default": true,
              "description": "Create RBAC resources",
              "required": [],
              "title": "create",
              "type": "boolean"
            }
          },
          "required": [],
          "title": "rbac",
          "type": "object"
        },
        "reconnectDelay": {
          "default": "5s",
          "description": "Delay before reconnecting on disconnection",
          "required": [],
          "title": "reconnectDelay",
          "type": "string"
        },
        "replicas": {
          "default": 1,
          "description": "Number of cluster agent replicas",
          "minimum": 0,
          "required": [],
          "title": "replicas",
          "type": "integer"
        },
        "resources": {
          "additionalProperties": false,
          "description": "Resource requests and limits for cluster agent",
          "properties": {
            "limits": {
              "additionalProperties": true,
              "description": "Maximum resources the agent can consume",
              "properties": {
                "cpu": {
                  "default": "100m",
                  "required": [],
                  "title": "cpu",
                  "type": "string"
                },
                "memory": {
                  "default": "256Mi",
                  "required": [],
                  "title": "memory",
                  "type": "string"
                }
              },
              "required": [
                "cpu",
                "memory"
              ],
              "title": "limits",
              "type": "object"
            },
            "requests": {
              "additionalProperties": true,
              "description": "Minimum resources guaranteed",
              "properties": {
                "cpu": {
                  "default": "50m",
                  "required": [],
                  "title": "cpu",
                  "type": "string"
                },
                "memory": {
                  "default": "128Mi",
                  "required": [],
                  "title": "memory",
                  "type": "string"
                }
              },
              "required": [
                "cpu",
                "memory"
              ],
              "title": "requests",
              "type": "object"
            }
          },
          "required": [],
          "title": "resources",
          "type": "object"
        },
        "securityContext": {
          "additionalProperties": true,
          "description": "Container security context for cluster agent",
          "properties": {
            "allowPrivilegeEscalation": {
              "default": false,
              "required": [],
              "title": "allowPrivilegeEscalation",
              "type": "boolean"
            },
            "capabilities": {
              "additionalProperties": false,
              "properties": {
                "drop": {
                  "items": {
                    "anyOf": [
                      {
                        "required": [],
                        "type": "string"
                      }
                    ],
                    "required": []
                  },
                  "required": [],
                  "title": "drop",
                  "type": "array"
                }
              },
              "required": [
                "drop"
              ],
              "title": "capabilities",
              "type": "object"
            },
            "readOnlyRootFilesystem": {
              "default": true,
              "required": [],
              "title": "readOnlyRootFilesystem",
              "type": "boolean"
            }
          },
          "required": [
            "allowPrivilegeEscalation",
            "capabilities",
            "readOnlyRootFilesystem"
          ],
          "title": "securityContext",
          "type": "object"
        },
        "serverCANamespace": {
          "default": "openchoreo-control-plane",
          "description": "Namespace where cluster-gateway CA exists",
          "required": [],
          "title": "serverCANamespace",
          "type": "string"
        },
        "serverUrl": {
          "default": "wss://cluster-gateway.openchoreo-control-plane.svc.cluster.local:8443/ws",
          "description": "WebSocket URL of the cluster gateway in control plane",
          "required": [],
          "title": "serverUrl",
          "type": "string"
        },
        "serviceAccount": {
          "additionalProperties": false,
          "description": "Service account configuration for cluster agent",
          "properties": {
            "annotations": {
              "additionalProperties": true,
              "description": "Annotations to add to the service account",
              "required": [],
              "title": "annotations",
              "type": "object"
            },
            "create": {
              "default": true,
              "description": "Create service account",
              "required": [],
              "title": "create",
              "type": "boolean"
            },
            "name": {
              "default": "cluster-agent-buildplane",
              "description": "Service account name",
              "required": [],
              "title": "name",
              "type": "string"
            }
          },
          "required": [],
          "title": "serviceAccount",
          "type": "object"
        },
        "tls": {
          "additionalProperties": false,
          "description": "TLS configuration for secure control plane communication",
          "properties": {
            "caSecretName": {
              "default": "cluster-gateway-ca",
              "description": "CA secret name for signing agent client certificates. If empty, self-signed certs will be generated (required for multi-cluster setup).",
              "required": [],
              "title": "caSecretName",
              "type": "string"
            },
            "caSecretNamespace": {
              "default": "openchoreo-control-plane",
              "description": "Namespace where the CA secret exists. If empty, self-signed certs will be generated (required for multi-cluster setup).",
              "required": [],
              "title": "caSecretNamespace",
              "type": "string"
            },
            "caValue": {
              "default": "",
              "description": "Inline CA certificate value (PEM format) for multi-cluster setup",
              "required": [],
              "title": "caValue",
              "type": "string"
            },
            "clientSecretName": {
              "default": "cluster-agent-tls",
              "description": "Client certificate secret name",
              "required": [],
              "title": "clientSecretName",
              "type": "string"
            },
            "duration": {
              "default": "2160h",
              "description": "Certificate duration",
              "required": [],
              "title": "duration",
              "type": "string"
            },
            "enabled": {
              "default": true,
              "description": "Enable TLS for agent communication",
              "required": [],
              "title": "enabled",
              "type": "boolean"
            },
            "generateCerts": {
              "default": false,
              "description": "Generate client certificates locally using cert-manager. Set to true for multi-cluster setup.",
              "required": [],
              "title": "generateCerts",
              "type": "boolean"
            },
            "renewBefore": {
              "default": "360h",
              "description": "Certificate renewal window",
              "required": [],
              "title": "renewBefore",
              "type": "string"
            },
            "secretName": {
              "default": "cluster-agent-tls",
              "description": "Secret containing client certificate and key",
              "required": [],
              "title": "secretName",
              "type": "string"
            },
            "serverCAConfigMap": {
              "default": "cluster-gateway-ca",
              "description": "ConfigMap containing server CA certificate for verifying gateway",
              "required": [],
              "title": "serverCAConfigMap",
              "type": "string"
            },
            "serverCAValue": {
              "default": "",
              "description": "Inline server CA certificate value (PEM format) for multi-cluster setup",
              "required": [],
              "title": "serverCAValue",
              "type": "string"
            }
          },
          "required": [],
          "title": "tls",
          "type": "object"
        },
        "tolerations": {
          "description": "Tolerations for cluster agent pods",
          "items": {
            "additionalProperties": true,
            "required": [],
            "type": "object"
          },
          "required": [],
          "title": "tolerations",
          "type": "array"
        }
      },
      "required": [],
      "title": "clusterAgent",
      "type": "object"
    },
    "external-secrets": {
      "additionalProperties": true,
      "description": "External Secrets Operator sub-chart configuration. See https://github.com/external-secrets/external-secrets for all options. Single cluster - set enabled to false to use data plane's ESO. Multi-cluster - set enabled to true to install dedicated ESO in build plane.",
      "properties": {
        "enabled": {
          "default": false,
          "description": "Install External Secrets Operator in the build plane",
          "required": [],
          "title": "enabled",
          "type": "boolean"
        },
        "fullnameOverride": {
          "default": "external-secrets",
          "description": "Override the full name of External Secrets resources",
          "required": [],
          "title": "fullnameOverride",
          "type": "string"
        },
        "nameOverride": {
          "default": "external-secrets",
          "description": "Override the name of External Secrets resources",
          "required": [],
          "title": "nameOverride",
          "type": "string"
        }
      },
      "required": [],
      "title": "external-secrets",
      "type": "object"
    },
    "fakeSecretStore": {
      "additionalProperties": false,
      "description": "Fake Secret Store configuration for local development. Creates a ClusterSecretStore with static secrets for testing purposes. Not for production use.",
      "properties": {
        "enabled": {
          "default": true,
          "description": "Enable the fake secret store for development",
          "required": [],
          "title": "enabled",
          "type": "boolean"
        },
        "name": {
          "default": "default",
          "description": "Name of the ClusterSecretStore resource",
          "required": [],
          "title": "name",
          "type": "string"
        },
        "secrets": {
          "description": "List of fake secrets to create for development",
          "items": {
            "additionalProperties": false,
            "properties": {
              "key": {
                "description": "Secret key name",
                "required": [],
                "type": "string"
              },
              "value": {
                "description": "Secret value (fake/development only)",
                "required": [],
                "type": "string"
              }
            },
            "required": [
              "key",
              "value"
            ],
            "type": "object"
          },
          "required": [],
          "title": "secrets",
          "type": "array"
        }
      },
      "required": [],
      "title": "fakeSecretStore",
      "type": "object"
    },
    "fluent-bit": {
      "additionalProperties": true,
      "description": "Fluent Bit subchart configuration for log collection and forwarding to OpenSearch",
      "properties": {
        "config": {
          "additionalProperties": true,
          "description": "Fluent Bit pipeline configuration (parsers, inputs, filters, outputs)",
          "properties": {
            "customParsers": {
              "default": "[PARSER]\n    Name docker_no_time\n    Format json\n    Time_Keep Off\n    Time_Key time\n    Time_Format %Y-%m-%dT%H:%M:%S.%L\n",
              "description": "Custom parser definitions in Fluent Bit configuration format",
              "required": [],
              "title": "customParsers",
              "type": "string"
            },
            "filters": {
              "default": "[FILTER]\n    Name kubernetes\n    Buffer_Size 32MB\n    K8S-Logging.Parser On\n    K8S-Logging.Exclude On\n    Keep_Log On\n    Match kube.*\n    Merge_Log Off\n    tls.verify Off\n    Use_Kubelet true\n",
              "description": "Filter plugin configuration for log processing",
              "required": [],
              "title": "filters",
              "type": "string"
            },
            "inputs": {
              "default": "[INPUT]\n    Name tail\n    Buffer_Chunk_Size 32KB\n    Buffer_Max_Size 2MB\n    DB /var/lib/fluent-bit/db/tail-container-logs.db\n    Exclude_Path /var/log/containers/fluent-bit-*_openchoreo-build-plane_*.log\n    Inotify_Watcher false\n    Mem_Buf_Limit 256MB\n    Path /var/log/containers/*.log\n    multiline.parser docker, cri\n    Read_from_Head On\n    Refresh_Interval 5\n    Skip_Long_Lines On\n    Tag kube.*\n",
              "description": "Input plugin configuration for log collection",
              "required": [],
              "title": "inputs",
              "type": "string"
            },
            "outputs": {
              "default": "[OUTPUT]\n    Name opensearch\n    Host opensearch\n    Generate_ID On\n    HTTP_Passwd ThisIsTheOpenSearchPassword1\n    HTTP_User admin\n    Logstash_Format On\n    Logstash_DateFormat %Y-%m-%d\n    Logstash_Prefix container-logs\n    Match kube.*\n    Port 9200\n    Suppress_Type_Name On\n    tls On\n    tls.verify Off\n",
              "description": "Output plugin configuration for log forwarding to OpenSearch",
              "required": [],
              "title": "outputs",
              "type": "string"
            }
          },
          "required": [],
          "title": "config",
          "type": "object"
        },
        "dnsPolicy": {
          "default": "ClusterFirstWithHostNet",
          "description": "DNS policy for Fluent Bit pods",
          "enum": [
            "ClusterFirst",
            "ClusterFirstWithHostNet",
            "Default",
            "None"
          ],
          "required": [],
          "title": "dnsPolicy"
        },
        "enabled": {
          "default": false,
          "description": "Enable Fluent Bit log collector deployment",
          "required": [],
          "title": "enabled",
          "type": "boolean"
        },
        "extraVolumeMounts": {
          "description": "Extra volume mounts for the Fluent Bit container",
          "items": {
            "required": [],
            "type": "object"
          },
          "required": [],
          "title": "extraVolumeMounts",
          "type": "array"
        },
        "extraVolumes": {
          "description": "Extra volumes for the Fluent Bit pod",
          "items": {
            "required": [],
            "type": "object"
          },
          "required": [],
          "title": "extraVolumes",
          "type": "array"
        },
        "fullnameOverride": {
          "default": "fluent-bit",
          "description": "Override the full name of Fluent Bit resources",
          "required": [],
          "title": "fullnameOverride",
          "type": "string"
        },
        "hostNetwork": {
          "default": true,
          "description": "Use host network for Fluent Bit pods (required for node log access)",
          "required": [],
          "title": "hostNetwork",
          "type": "boolean"
        },
        "initContainers": {
          "description": "Init containers for the Fluent Bit pod (used to set volume ownership)",
          "items": {
            "required": [],
            "type": "object"
          },
          "required": [],
          "title": "initContainers",
          "type": "array"
        },
        "metricsPort": {
          "default": 2021,
          "description": "Port for Fluent Bit metrics endpoint",
          "maximum": 65535,
          "minimum": 1,
          "required": [],
          "title": "metricsPort",
          "type": "integer"
        },
        "rbac": {
          "additionalProperties": true,
          "description": "RBAC configuration for Fluent Bit",
          "properties": {
            "nodeAccess": {
              "default": true,
              "description": "Enable node-level access for reading container logs",
              "required": [],
              "title": "nodeAccess",
              "type": "boolean"
            }
          },
          "required": [],
          "title": "rbac",
          "type": "object"
        },
        "resources": {
          "additionalProperties": true,
          "description": "Resource requests and limits for Fluent Bit",
          "properties": {
            "limits": {
              "additionalProperties": true,
              "description": "Maximum resources the container can use",
              "properties": {
                "cpu": {
                  "default": "200m",
                  "description": "CPU limit for Fluent Bit",
                  "required": [],
                  "title": "cpu",
                  "type": "string"
                },
                "memory": {
                  "default": "256Mi",
                  "description": "Memory limit for Fluent Bit",
                  "required": [],
                  "title": "memory",
                  "type": "string"
                }
              },
              "required": [],
              "title": "limits",
              "type": "object"
            },
            "requests": {
              "additionalProperties": true,
              "description": "Minimum resources guaranteed to the container",
              "properties": {
                "cpu": {
                  "default": "100m",
                  "description": "CPU request for Fluent Bit",
                  "required": [],
                  "title": "cpu",
                  "type": "string"
                },
                "memory": {
                  "default": "128Mi",
                  "description": "Memory request for Fluent Bit",
                  "required": [],
                  "title": "memory",
                  "type": "string"
                }
              },
              "required": [],
              "title": "requests",
              "type": "object"
            }
          },
          "required": [],
          "title": "resources",
          "type": "object"
        },
        "securityContext": {
          "additionalProperties": true,
          "description": "Security context for the Fluent Bit container",
          "properties": {
            "allowPrivilegeEscalation": {
              "default": false,
              "description": "Prevent privilege escalation",
              "required": [],
              "title": "allowPrivilegeEscalation",
              "type": "boolean"
            },
            "capabilities": {
              "additionalProperties": true,
              "description": "Linux capabilities configuration",
              "properties": {
                "drop": {
                  "description": "Capabilities to drop",
                  "items": {
                    "required": [],
                    "type": "string"
                  },
                  "required": [],
                  "title": "drop",
                  "type": "array"
                }
              },
              "required": [],
              "title": "capabilities",
              "type": "object"
            },
            "readOnlyRootFilesystem": {
              "default": true,
              "description": "Mount root filesystem as read-only",
              "required": [],
              "title": "readOnlyRootFilesystem",
              "type": "boolean"
            },
            "runAsNonRoot": {
              "default": true,
              "description": "Run container as non-root user",
              "required": [],
              "title": "runAsNonRoot",
              "type": "boolean"
            },
            "runAsUser": {
              "default": 10000,
              "description": "User ID to run the container",
              "minimum": 0,
              "required": [],
              "title": "runAsUser",
              "type": "integer"
            }
          },
          "required": [],
          "title": "securityContext",
          "type": "object"
        },
        "service": {
          "additionalProperties": true,
          "description": "Service configuration for Fluent Bit",
          "properties": {
            "port": {
              "default": 2021,
              "description": "Service port for Fluent Bit metrics",
              "maximum": 65535,
              "minimum": 1,
              "required": [],
              "title": "port",
              "type": "integer"
            }
          },
          "required": [],
          "title": "service",
          "type": "object"
        },
        "testFramework": {
          "additionalProperties": true,
          "description": "Test framework configuration",
          "properties": {
            "enabled": {
              "default": false,
              "description": "Enable Fluent Bit test framework",
              "required": [],
              "title": "enabled",
              "type": "boolean"
            }
          },
          "required": [],
          "title": "testFramework",
          "type": "object"
        }
      },
      "required": [],
      "title": "fluent-bit",
      "type": "object"
    },
    "global": {
      "additionalProperties": false,
      "description": "Global configuration values shared across all components",
      "properties": {
        "baseDomain": {
          "default": "",
          "description": "Base domain for external access. When set, registry will be accessible at registry.\u003cbaseDomain\u003e.",
          "examples": [
            "openchoreo.example.com"
          ],
          "required": [],
          "title": "baseDomain",
          "type": "string"
        },
        "commonLabels": {
          "additionalProperties": true,
          "description": "Common labels to add to every resource",
          "required": [],
          "title": "commonLabels",
          "type": "object"
        },
        "defaultResources": {
          "additionalProperties": false,
          "description": "Configuration for the default workflow templates required for building container images",
          "properties": {
            "buildpackCache": {
              "additionalProperties": false,
              "description": "Pre-populates the local registry with buildpack images during install/upgrade to speed up builds",
              "properties": {
                "enabled": {
                  "default": true,
                  "description": "Enable buildpack image caching hook",
                  "required": [],
                  "title": "enabled",
                  "type": "boolean"
                },
                "images": {
                  "description": "List of buildpack images to cache. Each entry has an id for lookup, remoteImage for external registry, and cachedImage for local cache.",
                  "items": {
                    "additionalProperties": false,
                    "properties": {
                      "id": {
                        "description": "Unique identifier for lookup in workflow templates",
                        "required": [],
                        "type": "string"
                      },
                      "remoteImage": {
                        "description": "Image reference from remote registry (used when caching is disabled)",
                        "required": [],
                        "type": "string"
                      },
                      "cachedImage": {
                        "description": "Image path in the local build plane registry (used when caching is enabled)",
                        "required": [],
                        "type": "string"
                      }
                    },
                    "required": [
                      "id",
                      "remoteImage",
                      "cachedImage"
                    ],
                    "type": "object"
                  },
                  "required": [],
                  "title": "images",
                  "type": "array"
                }
              },
              "required": [],
              "title": "buildpackCache",
              "type": "object"
            },
            "enabled": {
              "default": true,
              "description": "If true, applies the workflow templates",
              "required": [],
              "title": "enabled",
              "type": "boolean"
            },
            "podmanCache": {
              "additionalProperties": false,
              "description": "Podman build cache configuration for workflow templates. Shared PersistentVolumeClaim across all workflow executions for faster builds.",
              "properties": {
                "size": {
                  "default": "10Gi",
                  "description": "Size of the persistent volume for podman image layer cache",
                  "required": [],
                  "title": "size",
                  "type": "string"
                },
                "storageClass": {
                  "default": "",
                  "description": "Storage class for the cache PVC. Uses cluster default if not set.",
                  "required": [],
                  "title": "storageClass",
                  "type": "string"
                }
              },
              "required": [],
              "title": "podmanCache",
              "type": "object"
            },
            "registry": {
              "additionalProperties": false,
              "description": "Container registry configuration",
              "properties": {
                "host": {
                  "default": "registry.openchoreo-build-plane.svc.cluster.local:5000",
                  "description": "Container registry host for pushing and pulling images. Can be any registry (e.g., docker.io, gcr.io, ghcr.io, quay.io, or a private registry).",
                  "required": [],
                  "title": "host",
                  "type": "string"
                },
                "repoPath": {
                  "default": "",
                  "description": "Repository path prepended to image names. Can be any depth (e.g., \"myorg\", \"myorg/myproject\", \"namespace/subpath/images\"). Leave empty for root-level images.",
                  "required": [],
                  "title": "repoPath",
                  "type": "string"
                },
                "tlsVerify": {
                  "default": false,
                  "description": "Enable TLS verification when pushing images to the registry. Set to false for self-signed certificates or local development.",
                  "required": [],
                  "title": "tlsVerify",
                  "type": "boolean"
                }
              },
              "required": [],
              "title": "registry",
              "type": "object"
            }
          },
          "required": [],
          "title": "defaultResources",
          "type": "object"
        },
        "ingressClassName": {
          "default": "openchoreo-traefik",
          "description": "Ingress class name for registry ingress",
          "required": [],
          "title": "ingressClassName",
          "type": "string"
        },
        "tls": {
          "additionalProperties": false,
          "description": "TLS configuration. When enabled, TLS host is auto-derived from baseDomain (registry.\u003cbaseDomain\u003e).",
          "properties": {
            "enabled": {
              "default": false,
              "description": "Enable TLS for registry ingress",
              "required": [],
              "title": "enabled",
              "type": "boolean"
            },
            "secretName": {
              "default": "registry-tls",
              "description": "Secret containing TLS certificate for registry",
              "required": [],
              "title": "secretName",
              "type": "string"
            }
          },
          "required": [],
          "title": "tls",
          "type": "object"
        }
      },
      "required": [],
      "title": "global",
      "type": "object"
    },
    "registry": {
      "additionalProperties": true,
      "description": "Container Registry sub-chart configuration using Twuni Docker Registry Helm Chart. Hosts container images built by Argo Workflows in the Build Plane. See https://github.com/twuni/docker-registry.helm for all options.",
      "properties": {
        "fullnameOverride": {
          "default": "registry",
          "description": "Override the full name of registry resources",
          "required": [],
          "title": "fullnameOverride",
          "type": "string"
        },
        "ingress": {
          "additionalProperties": true,
          "description": "Ingress for external registry access. Auto-enabled when global.baseDomain is set.",
          "properties": {
            "annotations": {
              "additionalProperties": true,
              "description": "Annotations to add to the ingress resource",
              "required": [],
              "title": "annotations",
              "type": "object"
            },
            "className": {
              "default": "",
              "description": "Ingress class name. Falls back to global.ingressClassName if not set.",
              "required": [],
              "title": "className",
              "type": "string"
            },
            "enabled": {
              "default": false,
              "description": "Enable ingress for external registry access",
              "required": [],
              "title": "enabled",
              "type": "boolean"
            },
            "tls": {
              "additionalProperties": false,
              "description": "TLS configuration for registry ingress",
              "properties": {
                "enabled": {
                  "default": false,
                  "description": "Enable TLS for registry ingress",
                  "required": [],
                  "title": "enabled",
                  "type": "boolean"
                },
                "secretName": {
                  "default": "",
                  "description": "Secret containing TLS certificate",
                  "required": [],
                  "title": "secretName",
                  "type": "string"
                }
              },
              "required": [],
              "title": "tls",
              "type": "object"
            }
          },
          "required": [],
          "title": "ingress",
          "type": "object"
        },
        "persistence": {
          "additionalProperties": true,
          "description": "Persistence configuration for registry data",
          "properties": {
            "enabled": {
              "default": true,
              "description": "Enable persistent storage for registry",
              "required": [],
              "title": "enabled",
              "type": "boolean"
            },
            "size": {
              "default": "10Gi",
              "description": "Size of the persistent volume for registry storage",
              "required": [],
              "title": "size",
              "type": "string"
            }
          },
          "required": [],
          "title": "persistence",
          "type": "object"
        }
      },
      "required": [],
      "title": "registry",
      "type": "object"
    },
    "waitJob": {
      "additionalProperties": false,
      "description": "Wait job configuration for post-install hooks",
      "properties": {
        "image": {
          "default": "bitnamilegacy/kubectl:1.32.4",
          "description": "Container image used for wait jobs (must contain kubectl)",
          "required": [],
          "title": "image",
          "type": "string"
        }
      },
      "required": [],
      "title": "waitJob",
      "type": "object"
    }
  },
  "required": [],
  "type": "object"
}
