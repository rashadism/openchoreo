# Helm values for OpenChoreo Control Plane in k3d single-cluster setup
# Note: devMode disables HTTPS, port adds :8080 to URLs for k3d port mapping

global:
  baseDomain: openchoreo.localhost
  # Port suffix for URLs (k3d maps host:8080 -> container:80)
  port: ":8080"

thunder:
  configuration:
    server:
      publicUrl: "http://thunder.openchoreo.localhost:8080"
    gateClient:
      hostname: "thunder.openchoreo.localhost"

gateway:
  # Envoy configuration for traffic routing
  envoy:
    # Mount /tmp as emptyDir volume to fix Envoy temporary file creation issues
    # Enable this if gateway pods crash with "Failed to create temporary file" errors
    # Common on: macOS with Docker Desktop/Colima with Rosetta enabled.
    # Ref: https://github.com/kgateway-dev/kgateway/issues/9800
    mountTmpVolume: true
