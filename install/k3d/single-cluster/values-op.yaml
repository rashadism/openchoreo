# Helm values for OpenChoreo Observability Plane in k3d single-cluster setup

global:
  # Single-cluster non-HA mode uses standalone OpenSearch instead of operator
  installationMode: singleCluster

# Use standalone OpenSearch (not operator-managed cluster)
openSearch:
  enabled: true
  service:
    type: LoadBalancer

# Disable OpenSearch operator cluster (using standalone instead)
openSearchCluster:
  enabled: false

# Observer API - REST API for querying logs and metrics
observer:
  extraEnvs:
  - name: JWKS_URL
    value: "http://thunder-service.openchoreo-control-plane.svc.cluster.local:8090/oauth2/jwks"
  - name: JWKS_URL_TLS_INSECURE_SKIP_VERIFY
    value: "false"
  - name: OPENSEARCH_ADDRESS
    value: "https://opensearch:9200"
  - name: PROMETHEUS_ADDRESS
    value: "http://openchoreo-observability-prometheus:9091"
  - name: PROMETHEUS_TIMEOUT
    value: "30s"
  service:
    type: LoadBalancer

# OpenSearch Dashboards - UI for visualizing logs and data
openSearchDashboards:
  service:
    type: LoadBalancer

# Disable External Secrets since it's already in the Data Plane (single cluster)
external-secrets:
  enabled: false

fakeSecretStore:
  enabled: false
