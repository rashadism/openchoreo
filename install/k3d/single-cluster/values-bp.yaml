# Helm values for OpenChoreo Build Plane in k3d single-cluster setup
# This file contains overrides specific to running the build plane in a k3d environment

argo-workflows:
  server:
    # Argo Workflows UI is enabled for testing/development purposes
    enabled: true
    serviceType: LoadBalancer
    servicePort: 2746
    authModes:
      - server

global:
  defaultResources:
    enabled: true
    registry:
      host: "host.k3d.internal:10082"
      tlsVerify: false
    buildpackCache:
      enabled: true

# Disable Fluent Bit for Build Plane in single-cluster mode
# Reason: Data Plane FluentBit (DaemonSet on all nodes) already collects logs from ALL namespaces,
# including openchoreo-build-plane and openchoreo-ci-* (Argo Workflows build jobs).
fluent-bit:
  enabled: false

openbao:
  server:
    dev:
      enabled: true
