# Helm values for OpenChoreo Data Plane in k3d multi-cluster setup
# This file contains overrides specific to running the data plane in a k3d environment

# Enable cluster agent for agent-based communication with control plane
clusterAgent:
  enabled: true
  planeName: "default-data-plane"
  # Gateway address uses host.k3d.internal to reach control plane cluster's NodePort
  gatewayAddress: "host.k3d.internal:30443"
  tls:
    enabled: true
    secretName: cluster-agent-tls
  serverCANamespace: openchoreo-control-plane

fluentBit:
  config:
    # OpenSearch connection for multi-cluster setup
    # Points to OpenSearch in the observability plane via host.k3d.internal
    # Routed though the host machine to reach the Observability Plane
    opensearch:
      host: "host.k3d.internal"
      port: "11082"

gateway:
  # Enable gateway
  enabled: true

  # Use custom ports for k3d multi-cluster setup
  httpPort: 80
  httpsPort: 443
