# Helm values for OpenChoreo Control Plane in k3d multi-cluster setup
# This file contains overrides specific to running the control plane in a k3d environment

# Enable cluster gateway for agent-based communication
clusterGateway:
  enabled: true
  service:
    type: NodePort
    port: 8443
    nodePort: 30443  # Accessible from data plane via host.k3d.internal:30443

controllerManager:
  clusterGateway:
    enabled: true

openchoreoApi:
  ingress:
    enabled: true
    hosts:
      - host: api.openchoreo.localhost
        paths:
          - path: /
            pathType: Prefix

backstage:
  ingress:
    enabled: true
    hosts:
      - host: openchoreo.localhost
        paths:
          - path: /
            pathType: Prefix
  baseUrl: http://openchoreo.localhost:8080
  auth:
    authorizationUrl: http://thunder.openchoreo.localhost:8080/oauth2/authorize

asgardeoThunder:
  ingress:
    enabled: true
    hosts:
      - host: thunder.openchoreo.localhost
        paths:
          - path: /
            pathType: Prefix
            port: 8090
