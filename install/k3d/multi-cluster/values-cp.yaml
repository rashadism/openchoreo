# Helm values for OpenChoreo Control Plane in k3d multi-cluster setup

openchoreoApi:
  http:
    hostnames:
    - api.openchoreo.localhost
  config:
    server:
      publicUrl: "http://api.openchoreo.localhost:8080"

backstage:
  secretName: backstage-secrets
  baseUrl: "http://openchoreo.localhost:8080"
  http:
    hostnames:
    - openchoreo.localhost

security:
  oidc:
    issuer: "http://thunder.openchoreo.localhost:8080"
    jwksUrl: "http://thunder.openchoreo.localhost:8080/oauth2/jwks"
    authorizationUrl: "http://thunder.openchoreo.localhost:8080/oauth2/authorize"
    tokenUrl: "http://thunder.openchoreo.localhost:8080/oauth2/token"

# Cluster Gateway TLS route for agent connections from remote planes
clusterGateway:
  tlsRoute:
    enabled: true
    hosts:
      - host: cluster-gateway.openchoreo.localhost
        paths:
          - path: /
            pathType: Prefix
  tls:
    issuerRef:
      name: cluster-gateway-server-issuer
    dnsNames:
      - cluster-gateway.openchoreo-control-plane.svc
      - cluster-gateway.openchoreo-control-plane.svc.cluster.local
      - cluster-gateway.openchoreo.localhost

gateway:
  httpPort: 8080
  httpsPort: 8443
  tls:
    enabled: false
