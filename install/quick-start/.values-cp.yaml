# Helm values for OpenChoreo Control Plane in quick-start container

openchoreoApi:
  http:
    hostnames:
    - api.openchoreo.localhost
  config:
    server:
      publicUrl: "http://api.openchoreo.localhost:8080"
    security:
      authorization:
        bootstrap:
          # Helm replaces lists so all mappings must be specified here.
          # The chart defaults provide the first 3; quick-start adds the CLI binding.
          mappings:
            - name: super-admin-binding
              roleRef:
                name: super-admin
              entitlement:
                claim: groups
                value: platformEngineer
              effect: allow
            - name: backstage-catalog-reader-binding
              roleRef:
                name: backstage-catalog-reader
              entitlement:
                claim: sub
                value: openchoreo-backstage-client
              effect: allow
            - name: rca-agent-binding
              roleRef:
                name: rca-agent
              entitlement:
                claim: sub
                value: openchoreo-rca-agent
              effect: allow
            - name: quickstart-cli-super-admin-binding
              roleRef:
                name: super-admin
              entitlement:
                claim: sub
                value: openchoreo-cli-quickstart
              effect: allow

backstage:
  secretName: backstage-secrets
  baseUrl: "http://openchoreo.localhost:8080"
  http:
    hostnames:
    - openchoreo.localhost

security:
  oidc:
    issuer: "http://thunder.openchoreo.localhost:8080"
    jwksUrl: "http://thunder.openchoreo.localhost:8080/oauth2/jwks"
    authorizationUrl: "http://thunder.openchoreo.localhost:8080/oauth2/authorize"
    tokenUrl: "http://thunder.openchoreo.localhost:8080/oauth2/token"

thunder:
  host: thunder.openchoreo.localhost

gateway:
  tls:
    enabled: false
