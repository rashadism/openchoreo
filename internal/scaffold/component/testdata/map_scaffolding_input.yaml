componentName: my-api
namespace: acme-corp
projectName: online-store
includeFieldDescriptions: true
includeStructuralComments: true
---
apiVersion: openchoreo.dev/v1alpha1
kind: ComponentType
metadata:
  name: web-app
spec:
  workloadType: deployment
  schema:
    types:
      # Custom type for testing map<CustomType>
      ServiceConfig:
        endpoint: string
        port: 'integer | minimum=1 maximum=65535'
        enabled: 'boolean | default=true'
        timeout: 'integer | default=30 minimum=1'

    parameters:
      # Map with string values (required)
      labels: 'map<string> | description="Resource labels"'

      # Map with integer values (required)
      ports: 'map<integer> | description="Named port mappings"'

      # Map with boolean values (required)
      featureFlags: 'map<boolean> | description="Feature toggle flags"'

      # Map with custom type values (required)
      services: 'map<ServiceConfig> | description="Service configurations"'

      # Optional map with default
      annotations: 'map<string> | default={"app.kubernetes.io/name": "my-app"}'

      # Optional map with empty default
      customMetadata: 'map<string> | default={}'
